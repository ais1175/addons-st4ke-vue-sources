{"version":3,"sources":["webpack:///./packages/casino-holdem/resources/js/pages/game.vue?35af","webpack:///./packages/casino-holdem/resources/audio/deal.wav","webpack:///resources/js/mixins/Game.vue","webpack:///./resources/js/mixins/Game.vue?b66b","webpack:///./resources/js/plugins/route.js","webpack:///./resources/js/mixins/Game.vue","webpack:///./resources/audio/common/click.wav","webpack:///./packages/casino-holdem/resources/js/pages/game.vue?98f3","webpack:///./packages/casino-holdem/resources/audio/swoosh.wav","webpack:///./packages/casino-holdem/resources/js/pages/game.vue?fbc2","webpack:///packages/casino-holdem/resources/js/pages/game.vue","webpack:///./packages/casino-holdem/resources/js/pages/game.vue?63ca","webpack:///./packages/casino-holdem/resources/js/pages/game.vue","webpack:///./packages/casino-holdem/resources/audio/flip.wav","webpack:///./packages/casino-holdem/resources/audio/win.wav","webpack:///./packages/casino-holdem/resources/audio/lose.wav","webpack:///./packages/casino-holdem/resources/audio/push.wav","webpack:///./packages/casino-holdem/resources/js/pages/game.vue?914e"],"names":["module","exports","computed","gamePackageId","this","$route","params","game","provablyFairGame","$store","getters","methods","getRoute","name","store","component","render","staticRenderFns","push","i","components","mixins","Form","data","actions","loading","playing","anteBet","bonusBet","bet","win","netWin","player","cards","result","$t","dealer","community","winCards","defaultBonusBet","parseInt","minBonusBet","maxBonusBet","bonusBetStep","playerResultClass","dealerResultClass","created","play","action","_vm","_h","$createElement","_c","_self","staticClass","attrs","length","filter","card","indexOf","_v","_l","a","key","hash","disabled","on","$event","_s","scopedSlots","_u","fn","validationInteger","v","validationMin","validationMax","Math","max","proxy","min","model","value","callback","$$v","_n","expression","VBtn","VIcon","VTextField","content","options","transform","undefined","locals"],"mappings":"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","file":"js/games/casino-holdem-resources-js-pages-game.js","sourcesContent":["import mod from \"-!../../../../../node_modules/style-loader/index.js!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--11-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=style&index=0&id=30bada5d&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/style-loader/index.js!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--11-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=style&index=0&id=30bada5d&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"audio/casino-holdem/deal.wav\";","<script>\r\nimport { route } from '~/plugins/route'\r\n\r\nexport default {\r\n  computed: {\r\n    gamePackageId () {\r\n      return this.$route.params.game\r\n    },\r\n    provablyFairGame () {\r\n      return this.$store.getters['provably-fair/get'](this.gamePackageId) || {}\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    getRoute (action) {\r\n      return route(`games.${this.gamePackageId}.${action}`)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vuetify-loader/lib/loader.js??ref--11-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vuetify-loader/lib/loader.js??ref--11-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=js&\"","import store from '~/store'\r\n\r\nexport function route (name) {\r\n  return store.getters['route/get'](name)\r\n}\r\n","var render, staticRenderFns\nimport script from \"./Game.vue?vue&type=script&lang=js&\"\nexport * from \"./Game.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"audio/common/click.wav\";","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".bonus-bet-input[data-v-30bada5d] {\\n  max-width: 160px;\\n}\", \"\"]);\n\n// exports\n","module.exports = __webpack_public_path__ + \"audio/casino-holdem/swoosh.wav\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex flex-column fill-height py-3\"},[_c('hand',{staticClass:\"d-flex justify-center\",attrs:{\"cards\":_vm.dealer.cards,\"result\":_vm.dealer.result,\"inactive-cards\":_vm.winCards.length ? _vm.dealer.cards.filter(function (card) { return _vm.winCards.indexOf(card) === -1; }) : [],\"result-class\":_vm.dealerResultClass}}),_vm._v(\" \"),_c('div',{staticClass:\"d-flex justify-space-around fill-height align-center\"},[_c('hand',{attrs:{\"cards\":_vm.community.cards,\"inactive-cards\":_vm.winCards.length ? _vm.community.cards.filter(function (card) { return _vm.winCards.indexOf(card) === -1; }) : []}})],1),_vm._v(\" \"),_c('div',{staticClass:\"d-flex justify-center align-center\"},[_c('hand',{attrs:{\"cards\":_vm.player.cards,\"bet\":_vm.bet,\"win\":_vm.win,\"inactive-cards\":_vm.winCards.length ? _vm.player.cards.filter(function (card) { return _vm.winCards.indexOf(card) === -1; }) : [],\"result\":_vm.player.result,\"result-class\":_vm.playerResultClass}})],1),_vm._v(\" \"),_c('div',{staticClass:\"d-flex justify-center flex-wrap mt-10\"},_vm._l((_vm.actions),function(a){return _c('v-btn',{key:a.name,staticClass:\"mx-1 my-2 my-lg-0\",attrs:{\"disabled\":!_vm.provablyFairGame.hash || a.disabled,\"loading\":a.loading,\"small\":\"\"},on:{\"click\":function($event){return _vm.action(a.name)}}},[_vm._v(\"\\n      \"+_vm._s(_vm.$t(a.name))+\"\\n    \")])}),1),_vm._v(\" \"),_c('play-controls',{attrs:{\"loading\":_vm.loading,\"playing\":_vm.playing},on:{\"play\":_vm.play},scopedSlots:_vm._u([{key:\"after-bet-input\",fn:function(){return [_c('v-text-field',{staticClass:\"bonus-bet-input text-center ml-md-2\",attrs:{\"label\":_vm.$t('Bonus bet'),\"dense\":\"\",\"rules\":[_vm.validationInteger, function (v) { return _vm.validationMin(v, _vm.minBonusBet); }, function (v) { return _vm.validationMax(v, _vm.maxBonusBet); }],\"disabled\":_vm.playing,\"outlined\":\"\",\"full-width\":false},scopedSlots:_vm._u([{key:\"prepend-inner\",fn:function(){return [_c('v-btn',{attrs:{\"small\":\"\",\"text\":\"\",\"icon\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.bonusBet = Math.max(_vm.minBonusBet, _vm.bonusBet - _vm.bonusBetStep)}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"\\n              mdi-minus\\n            \")])],1)]},proxy:true},{key:\"append\",fn:function(){return [_c('v-btn',{attrs:{\"small\":\"\",\"text\":\"\",\"icon\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.bonusBet = Math.min(_vm.maxBonusBet, _vm.bonusBet + _vm.bonusBetStep)}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"\\n              mdi-plus\\n            \")])],1)]},proxy:true}]),model:{value:(_vm.bonusBet),callback:function ($$v) {_vm.bonusBet=_vm._n($$v)},expression:\"bonusBet\"}})]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"d-flex flex-column fill-height py-3\">\r\n    <hand\r\n      :cards=\"dealer.cards\"\r\n      :result=\"dealer.result\"\r\n      :inactive-cards=\"winCards.length ? dealer.cards.filter(card => winCards.indexOf(card) === -1) : []\"\r\n      class=\"d-flex justify-center\"\r\n      :result-class=\"dealerResultClass\"\r\n    />\r\n    <div class=\"d-flex justify-space-around fill-height align-center\">\r\n      <hand\r\n        :cards=\"community.cards\"\r\n        :inactive-cards=\"winCards.length ? community.cards.filter(card => winCards.indexOf(card) === -1) : []\"\r\n      />\r\n    </div>\r\n    <div class=\"d-flex justify-center align-center\">\r\n      <hand\r\n        :cards=\"player.cards\"\r\n        :bet=\"bet\"\r\n        :win=\"win\"\r\n        :inactive-cards=\"winCards.length ? player.cards.filter(card => winCards.indexOf(card) === -1) : []\"\r\n        :result=\"player.result\"\r\n        :result-class=\"playerResultClass\"\r\n      />\r\n    </div>\r\n    <div class=\"d-flex justify-center flex-wrap mt-10\">\r\n      <v-btn\r\n        v-for=\"a in actions\"\r\n        :key=\"a.name\"\r\n        :disabled=\"!provablyFairGame.hash || a.disabled\"\r\n        :loading=\"a.loading\"\r\n        class=\"mx-1 my-2 my-lg-0\"\r\n        small\r\n        @click=\"action(a.name)\"\r\n      >\r\n        {{ $t(a.name) }}\r\n      </v-btn>\r\n    </div>\r\n    <play-controls :loading=\"loading\" :playing=\"playing\" @play=\"play\">\r\n      <template v-slot:after-bet-input>\r\n        <v-text-field\r\n          v-model.number=\"bonusBet\"\r\n          :label=\"$t('Bonus bet')\"\r\n          dense\r\n          :rules=\"[validationInteger, v => validationMin(v, minBonusBet), v => validationMax(v, maxBonusBet)]\"\r\n          :disabled=\"playing\"\r\n          outlined\r\n          :full-width=\"false\"\r\n          class=\"bonus-bet-input text-center ml-md-2\"\r\n        >\r\n          <template v-slot:prepend-inner>\r\n            <v-btn small text icon color=\"primary\" @click=\"bonusBet = Math.max(minBonusBet, bonusBet - bonusBetStep)\">\r\n              <v-icon small>\r\n                mdi-minus\r\n              </v-icon>\r\n            </v-btn>\r\n          </template>\r\n          <template v-slot:append>\r\n            <v-btn small text icon color=\"primary\" @click=\"bonusBet = Math.min(maxBonusBet, bonusBet + bonusBetStep)\">\r\n              <v-icon small>\r\n                mdi-plus\r\n              </v-icon>\r\n            </v-btn>\r\n          </template>\r\n        </v-text-field>\r\n      </template>\r\n    </play-controls>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport { mapState, mapActions } from 'vuex'\r\nimport { config } from '~/plugins/config'\r\nimport FormMixin from '~/mixins/Form'\r\nimport GameMixin from '~/mixins/Game'\r\nimport SoundMixin from '~/mixins/Sound'\r\nimport Hand from '~/components/Games/Cards/Hand'\r\nimport { sleep } from '~/plugins/utils'\r\nimport clickSound from '~/../audio/common/click.wav'\r\nimport dealSound from 'packages/casino-holdem/resources/audio/deal.wav'\r\nimport swooshSound from 'packages/casino-holdem/resources/audio/swoosh.wav'\r\nimport flipSound from 'packages/casino-holdem/resources/audio/flip.wav'\r\nimport winSound from 'packages/casino-holdem/resources/audio/win.wav'\r\nimport loseSound from 'packages/casino-holdem/resources/audio/lose.wav'\r\nimport pushSound from 'packages/casino-holdem/resources/audio/push.wav'\r\nimport PlayControls from '~/components/Games/PlayControls'\r\n\r\nexport default {\r\n  name: 'CasinoHoldem',\r\n\r\n  components: { PlayControls, Hand },\r\n\r\n  mixins: [FormMixin, GameMixin, SoundMixin],\r\n\r\n  data () {\r\n    return {\r\n      actions: [\r\n        { name: 'fold', disabled: true, loading: false }, // $t('Fold')\r\n        { name: 'call', disabled: true, loading: false } // $t('Call')\r\n      ],\r\n      loading: false,\r\n      playing: false,\r\n\r\n      anteBet: 0,\r\n      bonusBet: 0,\r\n      bet: 0,\r\n      win: 0,\r\n      netWin: 1,\r\n\r\n      player: {\r\n        cards: ['HA', 'H4'],\r\n        result: this.$t('Flush')\r\n      },\r\n\r\n      dealer: {\r\n        cards: ['C5', 'DT'],\r\n        result: this.$t('Two pair')\r\n      },\r\n\r\n      community: {\r\n        cards: ['DJ', 'HK', 'H9', 'S5', 'HT']\r\n      },\r\n\r\n      winCards: ['HK', 'H9', 'HA', 'H4', 'HT']\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    ...mapState('auth', ['account']),\r\n    defaultBonusBet () {\r\n      return parseInt(config(`${this.gamePackageId}`).default_bonus_bet_amount, 10)\r\n    },\r\n    minBonusBet () {\r\n      return parseInt(config(`${this.gamePackageId}`).min_bonus_bet, 10)\r\n    },\r\n    maxBonusBet () {\r\n      return parseInt(config(`${this.gamePackageId}`).max_bonus_bet, 10)\r\n    },\r\n    bonusBetStep () {\r\n      return parseInt(config(`${this.gamePackageId}`).bonus_bet_change_amount, 10)\r\n    },\r\n    playerResultClass () {\r\n      return this.netWin > 0 || this.playing ? 'primary text--primary' : (this.netWin < 0 ? 'error' : 'warning')\r\n    },\r\n    dealerResultClass () {\r\n      return this.netWin < 0 ? 'primary text--primary' : (this.netWin > 0 ? 'error' : 'warning')\r\n    }\r\n  },\r\n\r\n  created () {\r\n    this.bonusBet = this.defaultBonusBet\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions({\r\n      updateUserAccountBalance: 'auth/updateUserAccountBalance',\r\n      setProvablyFairGame: 'provably-fair/set'\r\n    }),\r\n    play (bet) {\r\n      this.loading = true\r\n      this.playing = true\r\n\r\n      this.anteBet = bet\r\n\r\n      this.action('play', { bet, bonus_bet: this.bonusBet }).then(() => { this.loading = false })\r\n    },\r\n    // handle game actions (deal, hit, stand etc)\r\n    async action (name, params = {}) {\r\n      if (name !== 'play') {\r\n        this.sound(clickSound)\r\n      }\r\n\r\n      // disable all actions\r\n      this.actions.forEach(action => {\r\n        action.disabled = true\r\n        action.loading = action.name === name\r\n      })\r\n\r\n      // update user balance\r\n      if (name === 'call') {\r\n        this.updateUserAccountBalance(this.account.balance - this.anteBet * 2)\r\n      }\r\n\r\n      this.player.result = ''\r\n\r\n      // clear previous game results\r\n      if (name === 'play') {\r\n        this.bet = 0\r\n        this.win = 0\r\n        setTimeout(() => { this.netWin = 0 }, 500)\r\n\r\n        this.player.cards = []\r\n        this.dealer.cards = []\r\n        this.community.cards = []\r\n        this.winCards = []\r\n\r\n        this.dealer.result = ''\r\n\r\n        this.sound(swooshSound)\r\n\r\n        await sleep(500)\r\n      }\r\n\r\n      // API request params\r\n      const endpoint = this.getRoute(name)\r\n      const requestParams = { hash: this.provablyFairGame.hash, ...params }\r\n\r\n      // execute the action\r\n      const { data: game } = await axios.post(endpoint, requestParams)\r\n\r\n      let animationDelay = 0\r\n\r\n      this.bet = game.bet\r\n\r\n      // initial draw\r\n      if (!game.is_completed) {\r\n        // 1st player card\r\n        this.player.cards.push(game.gameable.player_cards[0])\r\n        this.sound(dealSound)\r\n\r\n        // 1st dealer card\r\n        setTimeout(() => {\r\n          this.dealer.cards.push(null)\r\n          this.sound(dealSound)\r\n        }, animationDelay += 500)\r\n\r\n        // 2nd player card\r\n        setTimeout(() => {\r\n          this.player.cards.push(game.gameable.player_cards[1])\r\n          this.sound(dealSound)\r\n        }, animationDelay += 500)\r\n\r\n        // 2nd dealer card\r\n        setTimeout(() => {\r\n          this.dealer.cards.push(null)\r\n          this.sound(dealSound)\r\n        }, animationDelay += 500)\r\n\r\n        // deal 3 community cards\r\n        game.gameable.community_cards.forEach(card => {\r\n          setTimeout(() => {\r\n            this.community.cards.push(card)\r\n            this.sound(dealSound)\r\n          }, animationDelay += 500)\r\n        })\r\n\r\n        // enable action buttons\r\n        this.actions.forEach(action => {\r\n          setTimeout(() => {\r\n            action.disabled = false\r\n          }, animationDelay)\r\n        })\r\n\r\n        // display player hand rank\r\n        setTimeout(() => {\r\n          this.player.result = game.gameable.player_hand_title\r\n        }, animationDelay)\r\n      // game completed\r\n      } else {\r\n        this.setProvablyFairGame({ key: this.gamePackageId, game: game.pf_game })\r\n\r\n        this.actions.forEach(action => {\r\n          setTimeout(() => {\r\n            action.loading = false\r\n          }, animationDelay)\r\n        })\r\n\r\n        animationDelay += 250\r\n\r\n        if (game.gameable.call_bet) {\r\n          // deal 2 more community cards\r\n          game.gameable.community_cards.slice(3).forEach(card => {\r\n            setTimeout(() => {\r\n              this.community.cards.push(card)\r\n              this.sound(dealSound)\r\n            }, animationDelay += 500)\r\n          })\r\n\r\n          // show dealer cards\r\n          game.gameable.dealer_cards.forEach((card, i) => {\r\n            setTimeout(() => {\r\n              // direct assignment causes animation strange delay, so using splice instead\r\n              this.dealer.cards.splice(i, 1, card)\r\n              this.sound(flipSound)\r\n            }, animationDelay += 500)\r\n          })\r\n        }\r\n\r\n        // display dealer score and result for each hand\r\n        setTimeout(() => {\r\n          this.win = game.win\r\n          this.netWin = game.win - game.bet\r\n\r\n          this.player.result = game.gameable.call_bet ? game.gameable.player_hand_title : this.$t('Fold')\r\n\r\n          if (game.gameable.call_bet) {\r\n            this.dealer.result = game.gameable.dealer_hand_title\r\n          }\r\n\r\n          this.playing = false\r\n\r\n          // update balance\r\n          this.updateUserAccountBalance(game.account.balance)\r\n\r\n          if (game.gameable.call_bet) {\r\n            if (game.gameable.call_win > 0) {\r\n              this.winCards = game.gameable.player_combination_cards\r\n            } else if (game.gameable.call_win === 0) {\r\n              this.winCards = game.gameable.dealer_combination_cards\r\n            }\r\n          }\r\n\r\n          // play sound\r\n          if (this.netWin > 0) {\r\n            this.sound(winSound)\r\n          } else if (this.netWin === 0) {\r\n            this.sound(pushSound)\r\n          } else {\r\n            this.sound(loseSound)\r\n          }\r\n        }, animationDelay += 500)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  .bonus-bet-input {\r\n    max-width: 160px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--11-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--11-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./game.vue?vue&type=template&id=30bada5d&scoped=true&\"\nimport script from \"./game.vue?vue&type=script&lang=js&\"\nexport * from \"./game.vue?vue&type=script&lang=js&\"\nimport style0 from \"./game.vue?vue&type=style&index=0&id=30bada5d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"30bada5d\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VIcon,VTextField})\n","module.exports = __webpack_public_path__ + \"audio/casino-holdem/flip.wav\";","module.exports = __webpack_public_path__ + \"audio/casino-holdem/win.wav\";","module.exports = __webpack_public_path__ + \"audio/casino-holdem/lose.wav\";","module.exports = __webpack_public_path__ + \"audio/casino-holdem/push.wav\";","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--11-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=style&index=0&id=30bada5d&lang=scss&scoped=true&\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--11-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=style&index=0&id=30bada5d&lang=scss&scoped=true&\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--11-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=style&index=0&id=30bada5d&lang=scss&scoped=true&\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}"],"sourceRoot":""}