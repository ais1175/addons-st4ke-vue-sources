{"version":3,"sources":["webpack:///./packages/horse-racing/resources/js/pages/game.vue?e730","webpack:///./packages/horse-racing/resources/images/fence.png","webpack:///./packages/horse-racing/resources/images/num_10.png","webpack:///./packages/horse-racing/resources/images/num_2.png","webpack:///./packages/horse-racing/resources/audio/gallop.wav","webpack:///./packages/horse-racing/resources/images/num_7.png","webpack:///./packages/horse-racing/resources/audio/flash.wav","webpack:///./resources/js/components/BlockPreloader.vue?0e96","webpack:///./packages/horse-racing/resources/images/sand.jpg","webpack:///./resources/js/components/BlockPreloader.vue?9c7f","webpack:///./packages/horse-racing/resources/images/saddle.png","webpack:///./resources/js/components/BlockPreloader.vue?ab0f","webpack:///./resources/js/components/BlockPreloader.vue","webpack:///./packages/horse-racing/resources/images/any.png","webpack:///./packages/horse-racing/resources/images/horse.png","webpack:///./packages/horse-racing/resources/images/forest.png","webpack:///./packages/horse-racing/resources/images/num_3.png","webpack:///./packages/horse-racing/resources/images/body.png","webpack:///./packages/horse-racing/resources/images/head.png","webpack:///resources/js/mixins/Game.vue","webpack:///./resources/js/mixins/Game.vue?b66b","webpack:///./resources/js/plugins/route.js","webpack:///./resources/js/mixins/Game.vue","webpack:///./packages/horse-racing/resources/js/pages/helpers/runner.js","webpack:///./packages/horse-racing/resources/images/num_11.png","webpack:///./packages/horse-racing/resources/js/pages/game.vue?5454","webpack:///./packages/horse-racing/resources/images/background.png","webpack:///./resources/js/components/BlockPreloader.vue?2f06","webpack:///./packages/horse-racing/resources/images/face.png","webpack:///./packages/horse-racing/resources/images/num_1.png","webpack:///./resources/audio/common/click.wav","webpack:///./packages/horse-racing/resources/images/tail.png","webpack:///./packages/horse-racing/resources/images/fence_post.png","webpack:///./packages/horse-racing/resources/images/num_12.png","webpack:///./packages/horse-racing/resources/js/pages/game.vue?69b1","webpack:///packages/horse-racing/resources/js/pages/game.vue","webpack:///./packages/horse-racing/resources/js/pages/game.vue?50de","webpack:///./packages/horse-racing/resources/js/pages/game.vue","webpack:///./packages/horse-racing/resources/images/num_4.png","webpack:///./packages/horse-racing/resources/audio/lose.wav","webpack:///./packages/horse-racing/resources/images/num_8.png","webpack:///./packages/horse-racing/resources/images/meadow.png","webpack:///./packages/horse-racing/resources/images/num_5.png","webpack:///./packages/horse-racing/resources/js/pages/game.vue?37c1","webpack:///./packages/horse-racing/resources/images/shadow.png","webpack:///./packages/horse-racing/resources/images/num_9.png","webpack:///./packages/horse-racing/resources/audio/win.wav","webpack:///./packages/horse-racing/resources/images/grass.jpg","webpack:///./packages/horse-racing/resources/images/num_6.png"],"names":["module","exports","push","i","content","options","transform","undefined","locals","component","_h","this","$createElement","_c","_self","staticClass","_v","_s","$t","attrs","VProgressLinear","computed","gamePackageId","$route","params","game","gameSlug","slug","config","provablyFairGame","$store","getters","methods","getRoute","name","store","render","staticRenderFns","imgTplNum","imgTplNum1","imgTplNum2","imgTplNum3","imgTplNum4","imgTplNum5","imgTplNum6","imgTplNum7","imgTplNum8","imgTplNum9","imgTplNum10","imgTplNum11","imgTplNum12","colorNormilize","color","toHex","changeColor","img","Long","canvas","document","createElement","ctx","getContext","alpha","newColor","R","parseInt","replace","G","B","pixels","width","height","drawImage","naturalWidth","naturalHeight","getImageData","getPixels","I","L","data","length","putImageData","CRunner","colors","num","cloneDeep","t_last","t_frame","position_start","loadImage","imgTplShadow","shadow","imgTplHorse","horse","body","imgTplTail","tail","imgTplSaddle","pad","background","saddle","text","imgTplBody","jockey","shirt","imgTplFace","face","Math","round","random","imgTplHead","hat","head","imgTplAny","any","frmW","framesCnt","frmH","frames","c","idx","paused","Date","getTime","frame","preview","toDataURL","t","cnt","floor","components","mixins","Form","loading","playing","ready","message","inputBets","positions","progress","runners_sorted","p","runners","shot","static","bg","bg_pos","bg_speed","forest","forest_pos","forest_speed","meadow","meadow_pos","meadow_speed","grass","grass_pos","grass_speed","sand","sand_pos","sand_speed","fence","fence_pos","fence_speed","fence_post","fence_post_pos","buf","buf_ctx","t_repos","complete","betTypes","defaultBet","default_bet_amount","minBet","min_bet","maxBet","max_bet","betStep","bet_change_amount","paytable","isPlayDisabled","hash","formIsValid","bets","totalBetAmount","account","balance","forEach","positionBets","bet","reduce","beforeDestroy","gameStop","created","window","addEventListener","resize","$nextTick","destroyed","removeEventListener","requestAnimationFrameGet","_raf","requestAnimationFrame","bind","drawBg","a","w","h","drawTrack","hG","hO","hS","y","dy","step_finish","animation","$vuetify","breakpoint","t_start","soundLoop","endFunc","aH","pos","posStep","isRepos","d","overtake_multiplier","dir","position","finished","sound","soundStop","rpos","Object","values","sort","gameAnimation","Promise","last","runner","max","min","$refs","clientWidth","clientHeight","reset","minimizeBet","type","splice","index","maximizeBet","decrementBet","incrementBet","_vm","class","ref","_l","key","model","value","callback","$$v","expression","directives","rawName","on","play","_e","title","validationInteger","v","validationMin","validationMax","scopedSlots","_u","fn","$event","proxy","_g","$set","_n","VAlert","VBtn","VCard","VCardActions","VCardText","VChip","VCol","VContainer","VForm","VIcon","VImg","VRow","VTextField","VToolbar","VToolbarTitle","VTooltip"],"mappings":"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","file":"js/games/horse-racing-resources-js-pages-game.js","sourcesContent":["exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".payout-chip[data-v-153ddb56] {\\n  width: 60px;\\n}\\n@keyframes shotani-data-v-153ddb56 {\\n0% {\\n    filter: grayscale(0) brightness(1);\\n}\\n25% {\\n    filter: grayscale(1) brightness(1.5);\\n}\\n50% {\\n    filter: grayscale(0) brightness(1);\\n}\\n75% {\\n    filter: grayscale(1) brightness(1.5);\\n}\\n100% {\\n    filter: grayscale(0) brightness(1);\\n}\\n}\\n@keyframes pauseani-data-v-153ddb56 {\\n0% {\\n    filter: grayscale(0) brightness(1);\\n}\\n100% {\\n    filter: grayscale(1) brightness(1.5);\\n}\\n}\\n.animation-container[data-v-153ddb56] {\\n  position: relative;\\n  width: 100%;\\n  height: calc(100vh - 112px);\\n}\\n.animation-container .progress[data-v-153ddb56] {\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n}\\n.animation-container .runners[data-v-153ddb56] {\\n  top: 20px;\\n  left: 20px;\\n  background: rgba(0, 0, 0, 0.3);\\n  position: absolute;\\n}\\n.animation-container .animation[data-v-153ddb56] {\\n  width: 100%;\\n  height: 100%;\\n}\\n.animation-container .animation.shot[data-v-153ddb56] {\\n  animation: shotani-data-v-153ddb56 0.3s infinite ease-in-out;\\n}\\n.animation-container .animation.paused[data-v-153ddb56] {\\n  filter: grayscale(1) brightness(1.5);\\n  animation: pauseani-data-v-153ddb56 0.1s;\\n}\\n.animation-container .results[data-v-153ddb56] {\\n  position: absolute;\\n  top: 20px;\\n  left: 50%;\\n  transform: translateX(-50%);\\n}\\n.flip-list-move[data-v-153ddb56] {\\n  transition: transform 0.1s;\\n}\", \"\"]);\n\n// exports\n","module.exports = \"/images/fence.png?b7f090aab0d3970f8578af98901bb149\";","module.exports = \"/images/num_10.png?85630010a9020051337498c13e6377ff\";","module.exports = \"/images/num_2.png?34d3aa41d5f64dbdd7fd173556fe36ea\";","module.exports = __webpack_public_path__ + \"audio/horse-racing/gallop.wav\";","module.exports = \"/images/num_7.png?1f1f280e139e3085ea4638c06686e6a5\";","module.exports = __webpack_public_path__ + \"audio/horse-racing/flash.wav\";","\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--11-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockPreloader.vue?vue&type=style&index=0&id=0ccd884f&lang=scss&scoped=true&\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--11-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockPreloader.vue?vue&type=style&index=0&id=0ccd884f&lang=scss&scoped=true&\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--11-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockPreloader.vue?vue&type=style&index=0&id=0ccd884f&lang=scss&scoped=true&\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","module.exports = \"/images/sand.jpg?99a135be2b88793799e9a1538113664e\";","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".loader[data-v-0ccd884f] {\\n  width: 150px;\\n}\", \"\"]);\n\n// exports\n","module.exports = \"/images/saddle.png?057f72588cfbbf2b925a8d0ad820e24f\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loader\"},[_c('p',{staticClass:\"text-center text--primary\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('Loading'))+\"\\n  \")]),_vm._v(\" \"),_c('v-progress-linear',{attrs:{\"color\":\"primary\",\"indeterminate\":\"\",\"rounded\":\"\",\"height\":\"5\",\"width\":\"100\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./BlockPreloader.vue?vue&type=template&id=0ccd884f&scoped=true&\"\nvar script = {}\nimport style0 from \"./BlockPreloader.vue?vue&type=style&index=0&id=0ccd884f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ccd884f\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\ninstallComponents(component, {VProgressLinear})\n","module.exports = \"/images/any.png?29b954e3072a5efc669bb670a57aa8b2\";","module.exports = \"/images/horse.png?8f76a6d10cfd41486ccd7cdcabb1d466\";","module.exports = \"/images/forest.png?80e6abf33a0e3bac967bb75279f8888c\";","module.exports = \"/images/num_3.png?6938b87c7956f428ae8f7d7750b93d0e\";","module.exports = \"/images/body.png?989bb6ccf74056b4de418a530fbebdd1\";","module.exports = \"/images/head.png?5ba820a613d3360b7dd9c3f6972ebcf9\";","<script>\r\nimport { config } from '~/plugins/config'\r\nimport { route } from '~/plugins/route'\r\n\r\nexport default {\r\n  computed: {\r\n    gamePackageId () {\r\n      return this.$route.params.game\r\n    },\r\n    gameSlug () {\r\n      return this.$route.params.slug\r\n    },\r\n    config () {\r\n      return this.gameSlug\r\n        ? config(`${this.gamePackageId}`).variations.find(o => o.slug === this.gameSlug)\r\n        : config(`${this.gamePackageId}`)\r\n    },\r\n    provablyFairGame () {\r\n      return this.$store.getters['provably-fair/get'](this.gamePackageId) || {}\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    getRoute (action) {\r\n      return route(`games.${this.gamePackageId}.${action}`)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vuetify-loader/lib/loader.js??ref--11-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vuetify-loader/lib/loader.js??ref--11-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=js&\"","import store from '~/store'\n\nexport function route (name) {\n  return store.getters['route/get'](name)\n}\n","var render, staticRenderFns\nimport script from \"./Game.vue?vue&type=script&lang=js&\"\nexport * from \"./Game.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import loadImage from 'image-promise'\nimport toHex from 'colornames'\nimport cloneDeep from 'clone-deep'\n\nimport imgTplNum1 from 'packages/horse-racing/resources/images/num_1.png'\nimport imgTplNum2 from 'packages/horse-racing/resources/images/num_2.png'\nimport imgTplNum3 from 'packages/horse-racing/resources/images/num_3.png'\nimport imgTplNum4 from 'packages/horse-racing/resources/images/num_4.png'\nimport imgTplNum5 from 'packages/horse-racing/resources/images/num_5.png'\nimport imgTplNum6 from 'packages/horse-racing/resources/images/num_6.png'\nimport imgTplNum7 from 'packages/horse-racing/resources/images/num_7.png'\nimport imgTplNum8 from 'packages/horse-racing/resources/images/num_8.png'\nimport imgTplNum9 from 'packages/horse-racing/resources/images/num_9.png'\nimport imgTplNum10 from 'packages/horse-racing/resources/images/num_10.png'\nimport imgTplNum11 from 'packages/horse-racing/resources/images/num_11.png'\nimport imgTplNum12 from 'packages/horse-racing/resources/images/num_12.png'\n\nimport imgTplShadow from 'packages/horse-racing/resources/images/shadow.png'\nimport imgTplAny from 'packages/horse-racing/resources/images/any.png'\nimport imgTplBody from 'packages/horse-racing/resources/images/body.png'\nimport imgTplFace from 'packages/horse-racing/resources/images/face.png'\nimport imgTplHead from 'packages/horse-racing/resources/images/head.png'\nimport imgTplHorse from 'packages/horse-racing/resources/images/horse.png'\nimport imgTplSaddle from 'packages/horse-racing/resources/images/saddle.png'\nimport imgTplTail from 'packages/horse-racing/resources/images/tail.png'\n\nconst imgTplNum = [\n  imgTplNum1,\n  imgTplNum2,\n  imgTplNum3,\n  imgTplNum4,\n  imgTplNum5,\n  imgTplNum6,\n  imgTplNum7,\n  imgTplNum8,\n  imgTplNum9,\n  imgTplNum10,\n  imgTplNum11,\n  imgTplNum12\n]\n\nfunction colorNormilize (color) {\n  if (color[0] !== '#') color = toHex(color)\n  return color\n}\n\nfunction HexToRGB (Hex) {\n  var Long = parseInt(Hex.replace(/^#/, ''), 16)\n  return {\n    R: (Long >>> 16) & 0xff,\n    G: (Long >>> 8) & 0xff,\n    B: Long & 0xff\n  }\n}\n\nfunction getPixels (img) {\n  var canvas = document.createElement('canvas')\n  var ctx = canvas.getContext('2d', { alpha: true })\n  canvas.width = img.width\n  canvas.height = img.height\n  ctx.drawImage(img, 0, 0, img.naturalWidth, img.naturalHeight, 0, 0, img.width, img.height)\n  return ctx.getImageData(0, 0, img.width, img.height)\n}\n\nfunction changeColor (img, color) {\n  var canvas = document.createElement('canvas')\n  var ctx = canvas.getContext('2d', { alpha: true })\n  var newColor = HexToRGB(color)\n  var pixels = getPixels(img)\n  for (var I = 0, L = pixels.data.length; I < L; I += 4) {\n    if (pixels.data[I + 3] > 0) {\n      pixels.data[I + 0] = newColor.R * (pixels.data[I + 0] / 255) + (newColor.R < 100 && pixels.data[I + 0] > 180 ? (pixels.data[I + 0] - 180) / 75 * 50 : 0)\n      if (pixels.data[I + 0] > 255) pixels.data[I + 0] = 255\n      pixels.data[I + 1] = newColor.G * (pixels.data[I + 1] / 255) + (newColor.G < 100 && pixels.data[I + 1] > 180 ? (pixels.data[I + 1] - 180) / 75 * 50 : 0)\n      if (pixels.data[I + 1] > 255) pixels.data[I + 1] = 255\n      pixels.data[I + 2] = newColor.B * (pixels.data[I + 2] / 255) + (newColor.B < 100 && pixels.data[I + 2] > 180 ? (pixels.data[I + 2] - 180) / 75 * 50 : 0)\n      if (pixels.data[I + 2] > 255) pixels.data[I + 2] = 255\n    }\n  }\n  canvas.width = img.width\n  canvas.height = img.height\n  ctx.putImageData(pixels, 0, 0)\n  return canvas\n}\n\nexport default class CRunner {\n  name = ''\n  colors = {}\n  frames = []\n  num = 1\n  framesCnt = 12\n  frmW = 0\n  frmH = 0\n  frame = 0\n  paused = true\n  position = 0\n  target = 0\n  dir = 0\n  preview = ''\n  finished = false\n  constructor (colors, name, num) {\n    this.colors = cloneDeep(colors)\n    this.num = num\n    this.name = name\n    this.t_last = 0\n    this.t_frame = 25\n    this.position_start = 0\n  }\n\n  async init () {\n    var\n      shadow = await loadImage(imgTplShadow)\n    var horse = changeColor(await loadImage(imgTplHorse), this.colors.horse.body ? colorNormilize(this.colors.horse.body) : '#000000')\n    var tail = changeColor(await loadImage(imgTplTail), this.colors.horse.tail ? colorNormilize(this.colors.horse.tail) : '#333333')\n    var saddle = changeColor(await loadImage(imgTplSaddle), this.colors.horse.pad && this.colors.horse.pad.background ? colorNormilize(this.colors.horse.pad.background) : '#aaaaaa')\n    var num = changeColor(await loadImage(this.num > 0 && this.num < 13 ? imgTplNum[this.num - 1] : imgTplNum1), this.colors.horse.pad && this.colors.horse.pad.text ? colorNormilize(this.colors.horse.pad.text) : '#333333')\n    var body = changeColor(await loadImage(imgTplBody), this.colors.jockey.shirt ? colorNormilize(this.colors.jockey.shirt) : '#ffffff')\n    var face = changeColor(await loadImage(imgTplFace), this.colors.jockey.face ? colorNormilize(this.colors.jockey.face) : ['#FFDCB1', '#E5C298', '#E4B98E', '#710200', '#E1ADA4'][Math.round(Math.random() * 4)])\n    var head = changeColor(await loadImage(imgTplHead), this.colors.jockey.hat ? colorNormilize(this.colors.jockey.hat) : '#ffffff')\n    var any = await loadImage(imgTplAny)\n    this.frmW = shadow.width / this.framesCnt\n    this.frmH = shadow.height\n    this.frames = []\n    while (this.frames.length < this.framesCnt) {\n      var c = document.createElement('canvas')\n      c.height = this.frmH\n      c.width = this.frmW\n      this.frames.push(c)\n    }\n    for (var idx in this.frames) {\n      var ctx = this.frames[idx].getContext('2d', { alpha: true })\n      ctx.drawImage(shadow, this.frmW * idx, 0, this.frmW, this.frmH, 0, 0, this.frmW, this.frmH)\n      ctx.drawImage(horse, this.frmW * idx, 0, this.frmW, this.frmH, 0, 0, this.frmW, this.frmH)\n      ctx.drawImage(tail, this.frmW * idx, 0, this.frmW, this.frmH, 0, 0, this.frmW, this.frmH)\n      ctx.drawImage(saddle, this.frmW * idx, 0, this.frmW, this.frmH, 0, 0, this.frmW, this.frmH)\n      ctx.drawImage(num, this.frmW * idx, 0, this.frmW, this.frmH, 0, 0, this.frmW, this.frmH)\n      ctx.drawImage(body, this.frmW * idx, 0, this.frmW, this.frmH, 0, 0, this.frmW, this.frmH)\n      ctx.drawImage(face, this.frmW * idx, 0, this.frmW, this.frmH, 0, 0, this.frmW, this.frmH)\n      ctx.drawImage(head, this.frmW * idx, 0, this.frmW, this.frmH, 0, 0, this.frmW, this.frmH)\n      ctx.drawImage(any, this.frmW * idx, 0, this.frmW, this.frmH, 0, 0, this.frmW, this.frmH)\n    }\n    this.paused = false\n    this.t_last = (new Date()).getTime()\n    this.frame = 0\n    this.preview = this.frames[1].toDataURL('image/png')\n  }\n\n  getFrame (i) {\n    if (typeof i !== 'undefined') {\n      if (i < 0) return this.frames[0]\n      if (i >= this.framesCnt) return this.frames[this.framesCnt - 1]\n      return this.frames[i]\n    } else if (this.paused) {\n      return this.frames[this.frame]\n    } else {\n      var t = (new Date()).getTime()\n      if (t > this.t_last + this.t_frame) {\n        var cnt = Math.floor((t - this.t_last) / this.t_frame)\n        this.t_last = t\n        this.frame += cnt\n        while (this.frame >= this.framesCnt) this.frame -= this.framesCnt\n      }\n      return this.frames[this.frame]\n    }\n  }\n\n  pause () {\n    this.paused = true\n  }\n\n  continue () {\n    if (this.paused) {\n      this.paused = false\n      this.t_last = (new Date()).getTime()\n    }\n  }\n}\n","module.exports = \"/images/num_11.png?c60c1efcc054784ec3e22878172440b2\";","import mod from \"-!../../../../../node_modules/style-loader/index.js!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--11-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=style&index=0&id=153ddb56&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/style-loader/index.js!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--11-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=style&index=0&id=153ddb56&lang=scss&scoped=true&\"","module.exports = \"/images/background.png?ecb8c89fab08bc7e16b322fd46567067\";","import mod from \"-!../../../node_modules/style-loader/index.js!../../../node_modules/css-loader/index.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--11-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockPreloader.vue?vue&type=style&index=0&id=0ccd884f&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/style-loader/index.js!../../../node_modules/css-loader/index.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--11-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockPreloader.vue?vue&type=style&index=0&id=0ccd884f&lang=scss&scoped=true&\"","module.exports = \"/images/face.png?b1866e47866f4228836518f7d3e45c19\";","module.exports = \"/images/num_1.png?73cfe707c1ea0b1df804f13d640c1279\";","module.exports = __webpack_public_path__ + \"audio/common/click.wav\";","module.exports = \"/images/tail.png?00d18530d1803e7ba520da2ba83c973e\";","module.exports = \"/images/fence_post.png?0c969006408194e07e173cf524e68c13\";","module.exports = \"/images/num_12.png?83e0e34074db9c9ecabaea12caa91c7a\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{ 'd-flex justify-center align-center': !_vm.ready, 'fill-height': !_vm.ready || !(_vm.$vuetify.breakpoint.width > _vm.$vuetify.breakpoint.height)}},[(_vm.ready)?_c('div',{staticClass:\"d-flex justify-center align-center\",class:{'fill-height': !(_vm.$vuetify.breakpoint.width > _vm.$vuetify.breakpoint.height)}},[(_vm.playing && _vm.$vuetify.breakpoint.width > _vm.$vuetify.breakpoint.height)?_c('div',{staticClass:\"animation-container\"},[_c('canvas',{ref:\"animation\",staticClass:\"animation\",class:{shot: _vm.game.shot !== 0, paused: _vm.game.paused}}),_vm._v(\" \"),_c('v-card',{staticClass:\"runners px-4 py-2\",attrs:{\"flat\":\"\"}},[_c('transition-group',{staticClass:\"pl-0\",attrs:{\"name\":\"flip-list\",\"tag\":\"ul\"}},_vm._l((_vm.runners_sorted),function(runner){return _c('div',{key:runner.num,staticClass:\"body-1 py-1\"},[_c('v-chip',{staticClass:\"mr-4\",attrs:{\"color\":runner.colors.horse.pad.background,\"text-color\":runner.colors.horse.pad.text,\"label\":\"\",\"x-small\":\"\"}},[_vm._v(\"\\n              \"+_vm._s(runner.num)+\"\\n            \")]),_vm._v(\"\\n            \"+_vm._s(runner.name)+\"\\n          \")],1)}),0)],1),_vm._v(\" \"),_c('v-progress-linear',{staticClass:\"progress\",model:{value:(_vm.progress),callback:function ($$v) {_vm.progress=$$v},expression:\"progress\"}}),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"scale\"}},[(_vm.game.step_finish === 4 && _vm.game.shot === 0)?_c('v-card',{staticClass:\"results px-16 pt-4 pb-4\"},[_c('div',{staticClass:\"align-center\"},[_c('v-alert',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.message),expression:\"message\"}],staticClass:\"text-center\",attrs:{\"dense\":\"\",\"outlined\":\"\",\"text\":\"\",\"color\":\"primary\"}},[_vm._v(\"\\n              \"+_vm._s(_vm.message)+\"\\n            \")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"primary\",\"loading\":_vm.loading,\"disabled\":_vm.loading || _vm.totalBetAmount > _vm.account.balance},on:{\"click\":_vm.play}},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('Play again'))+\"\\n            \")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"primary\",\"outlined\":\"\",\"disabled\":_vm.loading},on:{\"click\":_vm.gameStop}},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('Change bet'))+\"\\n            \")])],1)]):_vm._e()],1)],1):(_vm.$vuetify.breakpoint.width > _vm.$vuetify.breakpoint.height)?_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"8\"}},[_c('v-card',[_c('v-toolbar',[_c('v-toolbar-title',[_vm._v(\"\\n                \"+_vm._s(_vm.$t('Place your bet'))+\"\\n              \")])],1),_vm._v(\" \"),_c('v-card-text',[_c('v-form',{model:{value:(_vm.formIsValid),callback:function ($$v) {_vm.formIsValid=$$v},expression:\"formIsValid\"}},[_c('v-row',_vm._l((_vm.game.runners),function(runner,index){return _c('v-col',{key:index,attrs:{\"sm\":\"12\",\"md\":\"6\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('h3',{staticClass:\"heading text-center mb-3\"},[_c('v-chip',{staticClass:\"ma-2\",attrs:{\"color\":runner.colors.horse.pad.background,\"text-color\":runner.colors.horse.pad.text,\"label\":\"\",\"small\":\"\"}},[_vm._v(\"\\n                            \"+_vm._s(runner.num)+\"\\n                          \")]),_vm._v(\"\\n                          \"+_vm._s(runner.name)+\"\\n                        \")],1),_vm._v(\" \"),_c('v-card',{staticClass:\"d-flex align-center justify-center\",attrs:{\"height\":\"100\",\"flat\":\"\"}},[_c('v-img',{attrs:{\"src\":runner.preview,\"contain\":\"\",\"height\":\"180\"}})],1)],1),_vm._v(\" \"),_c('v-col',[_vm._l((_vm.betTypes),function(title,type){return [_c('v-text-field',{key:type,staticClass:\"text-center mb-2\",attrs:{\"dense\":\"\",\"outlined\":\"\",\"label\":title,\"disabled\":_vm.loading,\"rules\":[_vm.validationInteger, function (v) { return _vm.validationMin(v, _vm.minBet); }, function (v) { return _vm.validationMax(v, Math.min(Math.floor(_vm.account.balance), _vm.maxBet)); }],\"hide-details\":true,\"prepend-inner-icon\":\"mdi-minus\",\"append-icon\":\"mdi-plus\"},scopedSlots:_vm._u([{key:\"prepend-inner\",fn:function(){return [_c('v-btn',{attrs:{\"small\":\"\",\"text\":\"\",\"icon\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.minimizeBet(type, index)}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"\\n                                  mdi-arrow-down\\n                                \")])],1),_vm._v(\" \"),_c('v-btn',{attrs:{\"small\":\"\",\"text\":\"\",\"icon\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.decrementBet(type, index)}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"\\n                                  mdi-minus\\n                                \")])],1)]},proxy:true},{key:\"append\",fn:function(){return [_c('v-btn',{attrs:{\"small\":\"\",\"text\":\"\",\"icon\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.incrementBet(type, index)}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"\\n                                  mdi-plus\\n                                \")])],1),_vm._v(\" \"),_c('v-btn',{attrs:{\"small\":\"\",\"text\":\"\",\"icon\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.maximizeBet(type, index)}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"\\n                                  mdi-arrow-up\\n                                \")])],1)]},proxy:true},{key:\"append-outer\",fn:function(){return [_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-chip',_vm._g({staticClass:\"payout-chip justify-center mt-n1\",attrs:{\"color\":\"primary\",\"label\":\"\"}},on),[_vm._v(\"\\n                                    x \"+_vm._s(_vm.paytable[type][index])+\"\\n                                  \")])]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.$t('Payout'))+\" \"+_vm._s(_vm.$t('bet x {0}', [_vm.paytable[type][index]])))])])]},proxy:true}],null,true),model:{value:(_vm.inputBets[type][index]),callback:function ($$v) {_vm.$set(_vm.inputBets[type], index, _vm._n($$v))},expression:\"inputBets[type][index]\"}})]})],2)],1)],1)}),1)],1)],1),_vm._v(\" \"),_c('v-card-actions',{staticClass:\"justify-center pb-5\"},[_c('v-btn',{attrs:{\"outlined\":\"\",\"color\":\"primary\",\"disabled\":_vm.loading || !_vm.bets.length},on:{\"click\":_vm.reset}},[_vm._v(\"\\n                \"+_vm._s(_vm.$t('Reset'))+\"\\n              \")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"ml-2\",attrs:{\"color\":\"primary\",\"loading\":_vm.loading,\"disabled\":_vm.isPlayDisabled},on:{\"click\":_vm.play}},[_vm._v(\"\\n                \"+_vm._s(_vm.$t('Play'))+\"\\n              \")])],1)],1)],1)],1)],1):_c('div',{staticClass:\"d-flex fill-height align-center justify-center\"},[_c('v-alert',{staticClass:\"text-center\",attrs:{\"dense\":\"\",\"outlined\":\"\",\"text\":\"\",\"color\":\"primary\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('Please use landscape (horizontal) orientation.'))+\"\\n      \")])],1)],1):_c('block-preloader')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :class=\"{ 'd-flex justify-center align-center': !ready, 'fill-height': !ready || !($vuetify.breakpoint.width > $vuetify.breakpoint.height)}\">\n    <div v-if=\"ready\" class=\"d-flex justify-center align-center\" :class=\"{'fill-height': !($vuetify.breakpoint.width > $vuetify.breakpoint.height)}\">\n      <div v-if=\"playing && $vuetify.breakpoint.width > $vuetify.breakpoint.height\" class=\"animation-container\">\n        <canvas ref=\"animation\" class=\"animation\" :class=\"{shot: game.shot !== 0, paused: game.paused}\" />\n        <v-card class=\"runners px-4 py-2\" flat>\n          <transition-group name=\"flip-list\" tag=\"ul\" class=\"pl-0\">\n            <div v-for=\"runner in runners_sorted\" :key=\"runner.num\" class=\"body-1 py-1\">\n              <v-chip class=\"mr-4\" :color=\"runner.colors.horse.pad.background\" :text-color=\"runner.colors.horse.pad.text\" label x-small>\n                {{ runner.num }}\n              </v-chip>\n              {{ runner.name }}\n            </div>\n          </transition-group>\n        </v-card>\n        <v-progress-linear v-model=\"progress\" class=\"progress\" />\n        <transition name=\"scale\">\n          <v-card v-if=\"game.step_finish === 4 && game.shot === 0\" class=\"results px-16 pt-4 pb-4\">\n            <div class=\"align-center\">\n              <v-alert\n                v-show=\"message\"\n                dense\n                outlined\n                text\n                color=\"primary\"\n                class=\"text-center\"\n              >\n                {{ message }}\n              </v-alert>\n              <v-btn color=\"primary\" :loading=\"loading\" :disabled=\"loading || totalBetAmount > account.balance\" @click=\"play\">\n                {{ $t('Play again') }}\n              </v-btn>\n              <v-btn color=\"primary\" outlined :disabled=\"loading\" @click=\"gameStop\">\n                {{ $t('Change bet') }}\n              </v-btn>\n            </div>\n          </v-card>\n        </transition>\n      </div>\n      <v-container v-else-if=\"$vuetify.breakpoint.width > $vuetify.breakpoint.height\" fluid>\n        <v-row align=\"center\" justify=\"center\">\n          <v-col cols=\"12\" md=\"8\">\n            <v-card>\n              <v-toolbar>\n                <v-toolbar-title>\n                  {{ $t('Place your bet') }}\n                </v-toolbar-title>\n              </v-toolbar>\n              <v-card-text>\n                <v-form v-model=\"formIsValid\">\n                  <v-row>\n                    <v-col v-for=\"(runner, index) in game.runners\" :key=\"index\" sm=\"12\" md=\"6\">\n                      <v-row>\n                        <v-col cols=\"6\">\n                          <h3 class=\"heading text-center mb-3\">\n                            <v-chip\n                              class=\"ma-2\"\n                              :color=\"runner.colors.horse.pad.background\"\n                              :text-color=\"runner.colors.horse.pad.text\"\n                              label\n                              small\n                            >\n                              {{ runner.num }}\n                            </v-chip>\n                            {{ runner.name }}\n                          </h3>\n                          <v-card height=\"100\" flat class=\"d-flex align-center justify-center\">\n                            <v-img :src=\"runner.preview\" contain height=\"180\" />\n                          </v-card>\n                        </v-col>\n                        <v-col>\n                          <template v-for=\"(title, type) in betTypes\">\n                            <v-text-field\n                              :key=\"type\"\n                              v-model.number=\"inputBets[type][index]\"\n                              dense\n                              outlined\n                              class=\"text-center mb-2\"\n                              :label=\"title\"\n                              :disabled=\"loading\"\n                              :rules=\"[validationInteger, v => validationMin(v, minBet), v => validationMax(v, Math.min(Math.floor(account.balance), maxBet))]\"\n                              :hide-details=\"true\"\n                              prepend-inner-icon=\"mdi-minus\"\n                              append-icon=\"mdi-plus\"\n                            >\n                              <template v-slot:prepend-inner>\n                                <v-btn small text icon color=\"primary\" @click=\"minimizeBet(type, index)\">\n                                  <v-icon small>\n                                    mdi-arrow-down\n                                  </v-icon>\n                                </v-btn>\n                                <v-btn small text icon color=\"primary\" @click=\"decrementBet(type, index)\">\n                                  <v-icon small>\n                                    mdi-minus\n                                  </v-icon>\n                                </v-btn>\n                              </template>\n                              <template v-slot:append>\n                                <v-btn small text icon color=\"primary\" @click=\"incrementBet(type, index)\">\n                                  <v-icon small>\n                                    mdi-plus\n                                  </v-icon>\n                                </v-btn>\n                                <v-btn small text icon color=\"primary\" @click=\"maximizeBet(type, index)\">\n                                  <v-icon small>\n                                    mdi-arrow-up\n                                  </v-icon>\n                                </v-btn>\n                              </template>\n                              <template v-slot:append-outer>\n                                <v-tooltip bottom>\n                                  <template v-slot:activator=\"{ on }\">\n                                    <v-chip\n                                      color=\"primary\"\n                                      label\n                                      class=\"payout-chip justify-center mt-n1\"\n                                      v-on=\"on\"\n                                    >\n                                      x {{ paytable[type][index] }}\n                                    </v-chip>\n                                  </template>\n                                  <span>{{ $t('Payout') }} {{ $t('bet x {0}', [paytable[type][index]]) }}</span>\n                                </v-tooltip>\n                              </template>\n                            </v-text-field>\n                          </template>\n                        </v-col>\n                      </v-row>\n                    </v-col>\n                  </v-row>\n                </v-form>\n              </v-card-text>\n              <v-card-actions class=\"justify-center pb-5\">\n                <v-btn\n                  outlined\n                  color=\"primary\"\n                  :disabled=\"loading || !bets.length\"\n                  @click=\"reset\"\n                >\n                  {{ $t('Reset') }}\n                </v-btn>\n                <v-btn\n                  color=\"primary\"\n                  :loading=\"loading\"\n                  :disabled=\"isPlayDisabled\"\n                  class=\"ml-2\"\n                  @click=\"play\"\n                >\n                  {{ $t('Play') }}\n                </v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-col>\n        </v-row>\n      </v-container>\n      <div v-else class=\"d-flex fill-height align-center justify-center\">\n        <v-alert\n          dense\n          outlined\n          text\n          color=\"primary\"\n          class=\"text-center\"\n        >\n          {{ $t('Please use landscape (horizontal) orientation.') }}\n        </v-alert>\n      </div>\n    </div>\n    <block-preloader v-else />\n  </div>\n</template>\n\n<script>\nimport loadImage from 'image-promise'\nimport CRunner from './helpers/runner'\n\nimport axios from 'axios'\n\nimport { mapState, mapActions } from 'vuex'\nimport { config } from '~/plugins/config'\nimport FormMixin from '~/mixins/Form'\nimport GameMixin from '~/mixins/Game'\nimport SoundMixin from '~/mixins/Sound'\n\nimport clickSound from '~/../audio/common/click.wav'\nimport winSound from 'packages/horse-racing/resources/audio/win.wav'\nimport loseSound from 'packages/horse-racing/resources/audio/lose.wav'\nimport flashSound from 'packages/horse-racing/resources/audio/flash.wav'\nimport gallopSound from 'packages/horse-racing/resources/audio/gallop.wav'\nimport BlockPreloader from '~/components/BlockPreloader'\n\nimport imgBg from 'packages/horse-racing/resources/images/background.png'\nimport imgForest from 'packages/horse-racing/resources/images/forest.png'\nimport imgMeadow from 'packages/horse-racing/resources/images/meadow.png'\nimport imgGrass from 'packages/horse-racing/resources/images/grass.jpg'\nimport imgSand from 'packages/horse-racing/resources/images/sand.jpg'\nimport imgFence from 'packages/horse-racing/resources/images/fence.png'\nimport imgFencePost from 'packages/horse-racing/resources/images/fence_post.png'\n\nexport default {\n  name: 'HorseRacing',\n\n  components: { BlockPreloader },\n\n  mixins: [FormMixin, GameMixin, SoundMixin],\n\n  data () {\n    return {\n      loading: false,\n      playing: false,\n      ready: false,\n      message: null,\n      inputBets: [],\n      positions: [],\n      progress: 0,\n      runners_sorted: [],\n      game: {\n        p: 0,\n        runners: [],\n        positions: [],\n        shot: 0,\n        static: {\n          bg: null,\n          bg_pos: 0,\n          bg_speed: 1,\n          forest: null,\n          forest_pos: 0,\n          forest_speed: 2,\n          meadow: null,\n          meadow_pos: 0,\n          meadow_speed: 3,\n          grass: null,\n          grass_pos: 0,\n          grass_speed: 6,\n          sand: null,\n          sand_pos: 0,\n          sand_speed: 8,\n          fence: null,\n          fence_pos: 0,\n          fence_speed: 8,\n          fence_post: null,\n          fence_post_pos: 0\n        },\n        buf: null,\n        buf_ctx: null,\n        ctx: null,\n        width: 0,\n        height: 0,\n        t_frame: 5,\n        t_last: 0,\n        t_repos: 0,\n        paused: false,\n        complete: 0\n      },\n      betTypes: [\n        this.$t('Win'),\n        this.$t('Place'),\n        this.$t('Show')\n      ]\n    }\n  },\n\n  computed: {\n    ...mapState('auth', ['account']),\n    config () {\n      return config('horse-racing') || {}\n    },\n    defaultBet () {\n      return parseInt(this.config.default_bet_amount, 10)\n    },\n    minBet () {\n      return parseInt(this.config.min_bet, 10)\n    },\n    maxBet () {\n      return parseInt(this.config.max_bet, 10)\n    },\n    betStep () {\n      return parseInt(this.config.bet_change_amount, 10)\n    },\n    paytable () {\n      return this.config.paytable\n    },\n    isPlayDisabled () {\n      return !this.provablyFairGame.hash || !this.formIsValid || !this.bets.length || this.playing || this.totalBetAmount > this.account.balance\n    },\n    bets () {\n      const bets = []\n\n      this.inputBets.forEach((positionBets, type) => {\n        positionBets.forEach((bet, position) => {\n          if (bet > 0) {\n            bets.push({ type, positions: [position], bet })\n          }\n        })\n      })\n\n      return bets\n    },\n    totalBetAmount () {\n      return this.bets.reduce((a, item) => a + item.bet, 0)\n    }\n  },\n\n  beforeDestroy () {\n    this.gameStop()\n  },\n\n  created () {\n    // wait until next tick to ensure all computed properties are available (important to set lines property)\n    window.addEventListener('resize', this.resize)\n    this.$nextTick(() => {\n      this.init()\n    })\n  },\n  destroyed () {\n    window.removeEventListener('resize', this.resize)\n  },\n  methods: {\n    ...mapActions({\n      updateUserAccountBalance: 'auth/updateUserAccountBalance',\n      setProvablyFairGame: 'provably-fair/set'\n    }),\n    async init () {\n      // init bets object\n      this.betTypes.forEach(betType => {\n        // this.$set(this.inputBets, betType, Array(this.config.runners.length).fill(0))\n        this.inputBets.push(Array(this.config.runners.length).fill(0))\n      })\n      this.game.runners = []\n      for (var i in this.config.runners) {\n        var runner = new CRunner(this.config.runners[i].colors, this.config.runners[i].name, parseInt(i) + 1)\n        await runner.init()\n        this.game.runners.push(runner)\n      }\n      this.game.static.bg = await loadImage(imgBg)\n      this.game.static.bg_pos = 0\n      this.game.static.forest = await loadImage(imgForest)\n      this.game.static.forest_pos = 0\n      this.game.static.meadow = await loadImage(imgMeadow)\n      this.game.static.meadow_pos = 0\n      this.game.static.grass = await loadImage(imgGrass)\n      this.game.static.grass_pos = 0\n      this.game.static.sand = await loadImage(imgSand)\n      this.game.static.sand_pos = 0\n      this.game.static.fence = await loadImage(imgFence)\n      this.game.static.fence_pos = 0\n      this.game.static.fence_post = await loadImage(imgFencePost)\n\n      this.game.buf = document.createElement('canvas')\n      this.game.buf_ctx = this.game.buf.getContext('2d')\n\n      this.requestAnimationFrameGet()\n\n      this.ready = true\n    },\n    requestAnimationFrameGet () {\n      var _raf = window.requestAnimationFrame ||\n                          window.mozRequestAnimationFrame ||\n                          window.webkitRequestAnimationFrame ||\n                          window.msRequestAnimationFrame ||\n                          window.oRequestAnimationFrame\n\n      this.requestAnimationFrame = _raf ? _raf.bind(window) : null\n    },\n    drawBg (frames) {\n      var a, p, w, h\n\n      a = this.game.height * 0.5 / this.game.static.bg.height\n      p = this.game.static.bg_pos * a\n      w = this.game.static.bg.width * a\n      h = this.game.static.bg.height * a\n      while (p < this.game.width) {\n        this.game.buf_ctx.drawImage(this.game.static.bg, p, 0, w, h)\n        p += w\n      }\n      this.game.static.bg_pos -= frames * this.game.static.bg_speed\n      if (this.game.static.bg_pos < -this.game.static.bg.width) { this.game.static.bg_pos += this.game.static.bg.width }\n\n      a = this.game.height * 0.5 / this.game.static.forest.height\n      p = this.game.static.forest_pos * a\n      w = this.game.static.forest.width * a\n      h = this.game.static.forest.height * a\n      while (p < this.game.width) {\n        this.game.buf_ctx.drawImage(this.game.static.forest, p, 0, w, h)\n        p += w\n      }\n      this.game.static.forest_pos -= frames * this.game.static.forest_speed\n      if (this.game.static.forest_pos < -this.game.static.forest.width) { this.game.static.forest_pos += this.game.static.forest.width }\n\n      a = this.game.height * 0.5 / this.game.static.meadow.height\n      p = this.game.static.meadow_pos * a\n      w = this.game.static.meadow.width * a\n      h = this.game.static.meadow.height * a\n      while (p < this.game.width) {\n        this.game.buf_ctx.drawImage(this.game.static.meadow, p, 0, w, h)\n        p += w\n      }\n      this.game.static.meadow_pos -= frames * this.game.static.meadow_speed\n      if (this.game.static.meadow_pos < -this.game.static.meadow.width) { this.game.static.meadow_pos += this.game.static.meadow.width }\n    },\n    drawTrack (frames) {\n      var a, p, w, hG, hO, hS, y\n\n      y = this.game.height * 0.49\n      a = this.game.height * 0.5 / this.game.static.bg.height\n\n      p = this.game.static.grass_pos * a\n      w = this.game.static.grass.width * a\n      hG = this.game.static.grass.height * a\n      while (p < this.game.width) {\n        this.game.buf_ctx.drawImage(this.game.static.grass, p, y, w, hG)\n        this.game.buf_ctx.drawImage(this.game.static.grass, p, y + hG, w, hG)\n        p += w\n      }\n      this.game.static.grass_pos -= frames * this.game.static.grass_speed\n      if (this.game.static.grass_pos < -this.game.static.grass.width) { this.game.static.grass_pos += this.game.static.grass.width }\n\n      p = this.game.static.sand_pos * a\n      w = this.game.static.sand.width * a\n      hS = this.game.static.sand.height * a\n      while (p < this.game.width) {\n        for (var dy = y + hG * 2; dy < this.game.height; dy += hS) { this.game.buf_ctx.drawImage(this.game.static.sand, p, dy, w, hS) }\n        p += w\n      }\n      this.game.static.sand_pos -= frames * this.game.static.sand_speed\n      if (this.game.static.sand_pos < -this.game.static.sand.width) { this.game.static.sand_pos += this.game.static.sand.width }\n\n      p = this.game.static.fence_pos * a\n      w = this.game.static.fence.width * a\n      hO = this.game.static.fence.height * a\n      while (p < this.game.width) {\n        if (\n          !this.game.step_finish ||\n                !(\n                  (p < this.game.static.fence_post_pos * a && this.game.static.fence_post_pos * a < p + this.game.static.fence.width * a) ||\n                  (p < this.game.static.fence_post_pos * a + this.game.static.fence_post.width * a && this.game.static.fence_post_pos * a + this.game.static.fence_post.width * a < p + this.game.static.fence.width * a)\n                )\n        ) { this.game.buf_ctx.drawImage(this.game.static.fence, p, y + hG * 2 - hO + 18 * a, w, hO) }\n        p += w\n      }\n      this.game.static.fence_pos -= frames * this.game.static.fence_speed\n      if (this.game.static.fence_pos < -this.game.static.fence.width) { this.game.static.fence_pos += this.game.static.fence.width }\n\n      if (this.game.step_finish) {\n        this.game.buf_ctx.drawImage(\n          this.game.static.fence_post,\n          this.game.static.fence_post_pos * a,\n          y + hG * 2 - this.game.static.fence_post.height * a + 25 * a,\n          this.game.static.fence_post.width * a,\n          this.game.static.fence_post.height * a)\n\n        this.game.static.fence_post_pos -= frames * this.game.static.fence_speed\n      }\n    },\n    animation () {\n      if (!this.playing) return\n      var t = (new Date()).getTime(); var frames = Math.floor((t - this.game.t_last) / this.game.t_frame)\n      if (!(this.$vuetify.breakpoint.width > this.$vuetify.breakpoint.height)) {\n        this.game.t_start += t - this.game.t_last\n        this.game.t_last = t\n        this.requestAnimationFrame(this.animation)\n        return\n      }\n      if (this.game.shot && this.game.shot + 300 < t) {\n        this.soundLoop(gallopSound)\n        this.game.shot = 0\n        this.requestAnimationFrame(this.animation)\n        this.game.t_last = t\n        this.game.runners.forEach(runner => runner.continue())\n        if (this.game.step_finish === 4) this.game.endFunc()\n        return\n      } else if (this.game.shot) {\n        this.requestAnimationFrame(this.animation)\n        return\n      }\n\n      this.game.t_last += this.game.t_frame * frames\n      this.drawBg(frames)\n      this.drawTrack(frames)\n\n      var a = this.game.height * 0.5 / this.game.static.bg.height\n      var aH = a * 4\n      var pos = this.game.height * 0.5 + 300 * a\n      var posStep = (this.game.height - 20 - pos) / (this.game.runners.length - 1)\n\n      var isRepos = false\n      for (var i in this.game.runners) {\n        this.game.buf_ctx.drawImage(\n          this.game.runners[i].getFrame(),\n          (this.game.width - 100 * a - this.game.runners[i].frmW * aH) * (this.game.runners[i].position * 0.01),\n          pos - this.game.runners[i].frmH * aH + 40 * aH,\n          this.game.runners[i].frmW * aH,\n          this.game.runners[i].frmH * aH)\n        pos += posStep\n        if (frames > 0 && !this.game.step_finish) {\n          var d = this.config.animation.overtake_multiplier * ((1 - this.game.runners[i].p / 100 - Math.random())) * 0.5\n          this.game.runners[i].dir += d\n          this.game.runners[i].p += this.game.runners[i].dir * frames\n          this.game.runners[i].position =\n            this.game.runners[i].p * (50 - Math.abs(this.game.complete - 50)) * 2 / 100 +\n            this.game.runners[i].target * (this.game.complete > this.game.runners[i].nature ? ((this.game.complete - this.game.runners[i].nature) / (100 - this.game.runners[i].nature)) : 0)\n        } else if (\n          this.game.step_finish &&\n                      this.game.step_finish < 4 &&\n                      !this.game.runners[i].finished &&\n                      (this.game.width - 100 * a - this.game.runners[i].frmW * aH) * (this.game.runners[i].position * 0.01) + this.game.runners[i].frmW * aH - 40 * aH >\n                      this.game.static.fence_post_pos * a + this.game.static.fence_post.width * a * 0.5\n        ) {\n          this.game.runners[i].finished = true\n          this.game.runners.forEach(runner => runner.pause())\n          this.game.shot = t\n          this.game.step_finish++\n          this.sound(flashSound)\n          this.soundStop(gallopSound)\n        }\n        if ((t - this.game.t_repos) > 250) {\n          var rpos = this.game.runners.reduce((acc, runner) => (acc + (runner.position > this.game.runners[i].position ? 1 : 0)), 0)\n          if (this.game.positions[i].pos !== rpos) {\n            this.game.positions[i].pos = rpos\n            isRepos = true\n          }\n        }\n      }\n      if (isRepos) this.game.t_repos = t\n      if (frames > 0) {\n        this.game.complete = (t - this.game.t_start) / this.game.length * 100\n        if (this.game.complete > 100) {\n          this.game.complete = 100\n          if (this.game.step_finish === 0) {\n            this.game.step_finish = 1\n            this.game.static.fence_post_pos = this.game.width / a + this.game.static.fence_post.width / a\n          }\n        }\n        if (Math.round(this.game.complete) !== this.progress) this.progress = Math.round(this.game.complete)\n      }\n\n      if (this.runners_sorted.reduce((acc, item) => acc + item.num, '') !== Object.values(this.game.positions).sort((a, b) => (a.pos === b.pos ? (a.num > b.num ? -1 : 1) : (a.pos > b.pos ? 1 : -1))).reduce((acc, item) => acc + item.num, '')) {\n        this.runners_sorted = Object.values(this.game.positions).sort((a, b) => (a.pos === b.pos ? (a.num > b.num ? -1 : 1) : (a.pos > b.pos ? 1 : -1)))\n        // this.sound(clickSound)\n      }\n\n      this.game.ctx.drawImage(this.game.buf, 0, 0)\n\n      if (this.game.step_finish && this.game.static.fence_post_pos + this.game.static.fence_post.width * a < 0) {\n        this.game.paused = true\n        this.soundStop(gallopSound)\n      } else { this.requestAnimationFrame(this.animation) }\n    },\n    gameStop () {\n      this.soundStop(gallopSound)\n      this.playing = false\n    },\n    gameAnimation () {\n      return new Promise((resolve, reject) => {\n        this.playing = true\n        this.$nextTick(() => {\n          this.resize()\n          this.game.ctx = this.$refs.animation.getContext('2d')\n          this.game.length = this.config.animation.length * 1000\n\n          this.game.positions = []\n          var i\n          for (i = 0; i < this.game.runners.length; i++) {\n            this.game.positions.push({\n              name: this.game.runners[i].name,\n              num: this.game.runners[i].num,\n              pos: i,\n              colors: this.game.runners[i].colors\n            })\n            this.game.runners[i].finished = false\n            this.game.runners[i].position = 0\n            this.game.runners[i].p = 50\n            this.game.runners[i].nature = Math.random() * 50 + 25\n            // this.game.runners[i].position_start = 15 + 70 * Math.random()\n            // this.game.runners[i].dir = 0.015 // 0.05 + Math.random() * 0.05\n            this.game.runners[i].dir = 0 // 0.05 + Math.random() * 0.05\n          }\n\n          var last = 100 - (40 * Math.random())\n          for (i = 0; i < this.game.runners.length; i++) {\n            var runner = this.positions[i]\n            // var runner = this.positions.indexOf(i)\n            // if (runner !== -1) {\n            if (i === 0) {\n              this.game.runners[runner].target = last\n            } else {\n              var max = last\n              var min = (this.game.runners.length - 1 - i) * (2 + 3 * Math.random())\n              min += (max - min - 1) * Math.random()\n              last -= Math.random() * (max - min)\n              this.game.runners[runner].target = last\n            }\n            last--\n            // }\n          }\n\n          this.runners_sorted = Object.values(this.game.positions).sort((a, b) => (a.pos === b.pos ? (a.num > b.num ? -1 : 1) : (a.pos > b.pos ? 1 : -1)))\n          this.game.step_finish = 0\n          this.game.complete = 0\n          this.progress = 0\n          this.game.t_start = (new Date()).getTime()\n          this.game.paused = false\n          this.game.t_last = (new Date()).getTime()\n          this.game.endFunc = resolve\n          this.soundLoop(gallopSound)\n          this.requestAnimationFrame(this.animation)\n        })\n      })\n    },\n    resize () {\n      if (this.$refs.animation) {\n        this.game.width = this.$refs.animation.clientWidth\n        this.game.height = this.$refs.animation.clientHeight\n        this.$refs.animation.width = this.game.width\n        this.$refs.animation.height = this.game.height\n        this.game.buf.width = this.game.width\n        this.game.buf.height = this.game.height\n      }\n    },\n    reset () {\n      this.betTypes.forEach((title, type) => {\n        this.inputBets[type].forEach((bet, index) => {\n          this.minimizeBet(type, index)\n        })\n      })\n    },\n    minimizeBet (type, index) {\n      this.inputBets[type].splice(index, 1, this.minBet)\n    },\n    maximizeBet (type, index) {\n      this.inputBets[type].splice(index, 1, this.maxBet)\n    },\n    decrementBet (type, index) {\n      const bet = this.inputBets[type][index] - this.betStep\n      this.inputBets[type].splice(index, 1, Math.max(this.minBet, bet))\n    },\n    incrementBet (type, index) {\n      const bet = this.inputBets[type][index] + this.betStep\n      this.inputBets[type].splice(index, 1, Math.min(this.maxBet, bet))\n    },\n    async play () {\n      this.sound(clickSound)\n      this.loading = true\n\n      this.message = null\n      this.positions = []\n\n      // update user balance\n      this.updateUserAccountBalance(this.account.balance - this.totalBetAmount)\n\n      // API request params\n      const endpoint = this.getRoute('play')\n      const requestParams = { hash: this.provablyFairGame.hash, bets: this.bets }\n\n      // execute the action\n      const { data: game } = await axios.post(endpoint, requestParams)\n\n      this.loading = false\n      this.setProvablyFairGame({ key: this.gamePackageId, game: game.pf_game })\n\n      this.positions = game.gameable.positions.map(item => parseInt(item))\n\n      await this.gameAnimation()\n\n      // this.playing = false\n\n      // update balance\n      this.updateUserAccountBalance(game.account.balance)\n\n      // play sound\n      if (game.win > 0) {\n        this.sound(winSound)\n        this.message = this.$t('You won') + ' ' + game.win\n      } else {\n        this.sound(loseSound)\n        this.message = this.$t('You lost')\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.payout-chip {\n  width: 60px;\n}\n\n@keyframes shotani {\n  0% {\n    filter: grayscale(0) brightness(1);\n  }\n  25% {\n    filter: grayscale(1) brightness(1.5);\n  }\n  50% {\n    filter: grayscale(0) brightness(1);\n  }\n  75% {\n    filter: grayscale(1) brightness(1.5);\n  }\n  100% {\n    filter: grayscale(0) brightness(1);\n  }\n}\n@keyframes pauseani {\n  0% {\n    filter: grayscale(0) brightness(1);\n  }\n  100% {\n    filter: grayscale(1) brightness(1.5);\n  }\n}\n.animation-container {\n  position:relative;\n  width: 100%;\n  height: calc(100vh - 112px);\n  .progress {\n    position: absolute;\n    bottom:0;left:0;right:0;\n  }\n  .runners {\n    top: 20px;\n    left: 20px;\n    background: rgba(0,0,0,0.3);\n    position: absolute;\n  }\n  .animation {\n    width: 100%;\n    height: 100%;\n    &.shot {\n      animation: shotani  0.3s infinite ease-in-out;\n    }\n    &.paused {\n      filter: grayscale(1) brightness(1.5);\n      animation: pauseani  0.1s;\n    }\n  }\n  .results {\n    position: absolute;\n    top:20px;\n    left: 50%;\n    transform:translateX(-50%);\n  }\n}\n.flip-list-move {\n  transition: transform 0.1s;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--11-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--11-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./game.vue?vue&type=template&id=153ddb56&scoped=true&\"\nimport script from \"./game.vue?vue&type=script&lang=js&\"\nexport * from \"./game.vue?vue&type=script&lang=js&\"\nimport style0 from \"./game.vue?vue&type=style&index=0&id=153ddb56&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"153ddb56\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardActions,VCardText,VChip,VCol,VContainer,VForm,VIcon,VImg,VProgressLinear,VRow,VTextField,VToolbar,VToolbarTitle,VTooltip})\n","module.exports = \"/images/num_4.png?05c35cc93bec7e62d1456e1585d5f304\";","module.exports = __webpack_public_path__ + \"audio/horse-racing/lose.wav\";","module.exports = \"/images/num_8.png?37d8b2a1303f148432a7e5eae813a019\";","module.exports = \"/images/meadow.png?623b2e10f659bf405c42575f73d0448e\";","module.exports = \"/images/num_5.png?d5783b585ec380c5c837e27be74f3724\";","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--11-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=style&index=0&id=153ddb56&lang=scss&scoped=true&\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--11-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=style&index=0&id=153ddb56&lang=scss&scoped=true&\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--11-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=style&index=0&id=153ddb56&lang=scss&scoped=true&\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","module.exports = \"/images/shadow.png?c98c8b72c9b072690cffd980a7e3a289\";","module.exports = \"/images/num_9.png?5936eee6cbba87fd43d1c66f89df3887\";","module.exports = __webpack_public_path__ + \"audio/horse-racing/win.wav\";","module.exports = \"/images/grass.jpg?d12092542b7ee669f30240585bb27435\";","module.exports = \"/images/num_6.png?022091dcb11031895d05d6e3a1d767a3\";"],"sourceRoot":""}