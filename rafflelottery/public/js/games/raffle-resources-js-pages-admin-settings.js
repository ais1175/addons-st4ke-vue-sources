(window.webpackJsonp=window.webpackJsonp||[]).push([[124],{"35aS":function(e,t,n){var a=n("JY75");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,o);a.locals&&(e.exports=a.locals)},JY75:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,".v-badge[data-v-1cef53b6] {\n  cursor: move;\n  /* fallback if grab cursor is unsupported */\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n.sortable-chosen .v-badge[data-v-1cef53b6], .sortable-ghost .v-badge[data-v-1cef53b6] {\n  cursor: move;\n}",""])},gWsI:function(e,t,n){"use strict";n.r(t);var a=n("o0o1"),o=n.n(a),r=n("fpkf"),i=n("4HBT"),s=n.n(i),l=n("C3Ci"),_=n("MQ60"),c=n.n(_);function A(e,t,n,a,o,r,i){try{var s=e[r](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,o)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var r=e.apply(t,n);function i(e){A(r,a,o,i,s,"next",e)}function s(e){A(r,a,o,i,s,"throw",e)}i(void 0)}))}}var u={components:{FileUpload:n("uU2J").a,draggable:c.a},mixins:[l.a],props:{form:{type:Object,required:!0}},data:function(){return{cloneVariationForm:new s.a({variation:null}),removeVariationForm:new s.a}},computed:{variations:function(){return Object(r.a)("raffle.variations")},url:function(){return window.location.origin+"/raffle/"}},created:function(){this.$emit("input",{GAME_HORSE_RACING_VARIATIONS:this.variations})},methods:{symbolImagePath:function(e,t){return this.variations[e].symbols[t]?this.variations[e].symbols[t].image:""},cloneVariation:function(e){var t=this;return m(o.a.mark((function n(){var a,r,i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.form.GAME_HORSE_RACING_VARIATIONS.length,t.cloneVariationForm.variation=a,n.next=4,t.cloneVariationForm.post("/api/admin/settings/raffle/variations/".concat(e));case 4:r=n.sent,(i=r.data).success?(t.form.GAME_HORSE_RACING_VARIATIONS.push(JSON.parse(JSON.stringify(t.form.GAME_HORSE_RACING_VARIATIONS[e]))),t.form.GAME_HORSE_RACING_VARIATIONS[a].title+=" - cloned",t.form.GAME_HORSE_RACING_VARIATIONS[a].slug+="-cloned"):t.$store.dispatch("message/error",{text:i.message});case 7:case"end":return n.stop()}}),n)})))()},removeVariation:function(e){var t=this;return m(o.a.mark((function n(){var a,r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.removeVariationForm.delete("/api/admin/settings/raffle/variations/".concat(e));case 2:a=n.sent,r=a.data,t.form.GAME_HORSE_RACING_VARIATIONS.splice(e,1),r.success||t.$store.dispatch("message/error",{text:r.message});case 6:case"end":return n.stop()}}),n)})))()},addSymbol:function(e){this.form.GAME_HORSE_RACING_VARIATIONS[e].symbols.push({image:"",wild:!1,scatter:!1,payouts:[0,0,0,0,0]})},removeSymbol:function(e,t){this.form.GAME_HORSE_RACING_VARIATIONS[e].symbols.splice(t,1)},disableActiveMagicSymbols:function(e,t,n,a){a&&this.form.GAME_HORSE_RACING_VARIATIONS[t].symbols.forEach((function(t,a,o){a!==n&&(o[a][e]=!1)}))},addSymbolToReel:function(e,t,n){this.form.GAME_HORSE_RACING_VARIATIONS[e].reels[t].push(n)},removeSymbolFromReel:function(e,t,n){this.form.GAME_HORSE_RACING_VARIATIONS[e].reels[t].splice(n,1)}}},I=(n("nHV2"),n("KHd+")),v=n("ZUTo"),f=n.n(v),R=n("ghKu"),d=n("TKb1"),b=n("gzZi"),S=n("sK+t"),E=n("mdmw"),N=n("Yq0q"),O=n("K13u"),G=n("zn5u"),p=n("zVVW"),x=n("SeJn"),V=n("yGWi"),g=n("A5O/"),y=n("Ey0z"),C=n("iGBT"),M=n("2hOt"),T=n("NMP6"),h=n("5Emp"),H=n("D9m0"),$=n("tz1R"),k=n("hlRy"),w=Object(I.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("v-expansion-panels",e._l(e.variations,(function(t,a){return n("v-expansion-panel",{key:a},[n("v-expansion-panel-header",[e._v(e._s(t.title))]),e._v(" "),n("v-expansion-panel-content",[n("v-expansion-panels",[n("v-expansion-panel",[n("v-expansion-panel-header",[e._v(e._s(e.$t("General")))]),e._v(" "),n("v-expansion-panel-content",[n("v-text-field",{attrs:{label:e.$t("Title"),rules:[e.validationRequired],outlined:""},model:{value:e.form.GAME_HORSE_RACING_VARIATIONS[a].title,callback:function(t){e.$set(e.form.GAME_HORSE_RACING_VARIATIONS[a],"title",t)},expression:"form.GAME_HORSE_RACING_VARIATIONS[variationIndex].title"}}),e._v(" "),n("v-text-field",{attrs:{label:e.$t("Slug"),rules:[e.validationRequired],prefix:e.url,outlined:""},model:{value:e.form.GAME_HORSE_RACING_VARIATIONS[a].slug,callback:function(t){e.$set(e.form.GAME_HORSE_RACING_VARIATIONS[a],"slug",t)},expression:"form.GAME_HORSE_RACING_VARIATIONS[variationIndex].slug"}}),e._v(" "),n("v-combobox",{attrs:{label:e.$t("Categories"),multiple:"",outlined:"",chips:"","small-chips":"","deletable-chips":"","hide-selected":"","no-filter":""},model:{value:e.form.GAME_HORSE_RACING_VARIATIONS[a].categories,callback:function(t){e.$set(e.form.GAME_HORSE_RACING_VARIATIONS[a],"categories",t)},expression:"form.GAME_HORSE_RACING_VARIATIONS[variationIndex].categories"}}),e._v(" "),n("file-upload",{attrs:{label:e.$t("Banner"),name:"banner",folder:"games/raffle/"+a},model:{value:e.form.GAME_HORSE_RACING_VARIATIONS[a].banner,callback:function(t){e.$set(e.form.GAME_HORSE_RACING_VARIATIONS[a],"banner",t)},expression:"form.GAME_HORSE_RACING_VARIATIONS[variationIndex].banner"}}),e._v(" "),n("file-upload",{attrs:{label:e.$t("Background image"),name:"background",folder:"games/raffle/"+a,clearable:!0},model:{value:e.form.GAME_HORSE_RACING_VARIATIONS[a].background,callback:function(t){e.$set(e.form.GAME_HORSE_RACING_VARIATIONS[a],"background",t)},expression:"form.GAME_HORSE_RACING_VARIATIONS[variationIndex].background"}}),e._v(" "),n("v-text-field",{attrs:{label:e.$t("Min bet"),rules:[function(t){return e.validationInteger(parseInt(t,10))},e.validationPositiveNumber],outlined:"",suffix:e.$t("credits")},model:{value:e.form.GAME_HORSE_RACING_VARIATIONS[a].min_bet,callback:function(t){e.$set(e.form.GAME_HORSE_RACING_VARIATIONS[a],"min_bet",e._n(t))},expression:"form.GAME_HORSE_RACING_VARIATIONS[variationIndex].min_bet"}}),e._v(" "),n("v-text-field",{attrs:{label:e.$t("Max bet"),rules:[function(t){return e.validationInteger(parseInt(t,10))},e.validationPositiveNumber],outlined:"",suffix:e.$t("credits")},model:{value:e.form.GAME_HORSE_RACING_VARIATIONS[a].max_bet,callback:function(t){e.$set(e.form.GAME_HORSE_RACING_VARIATIONS[a],"max_bet",e._n(t))},expression:"form.GAME_HORSE_RACING_VARIATIONS[variationIndex].max_bet"}}),e._v(" "),n("v-text-field",{attrs:{label:e.$t("Bet increment / decrement amount"),rules:[function(t){return e.validationInteger(parseInt(t,10))},e.validationPositiveNumber],outlined:"",suffix:e.$t("credits")},model:{value:e.form.GAME_HORSE_RACING_VARIATIONS[a].bet_change_amount,callback:function(t){e.$set(e.form.GAME_HORSE_RACING_VARIATIONS[a],"bet_change_amount",e._n(t))},expression:"form.GAME_HORSE_RACING_VARIATIONS[variationIndex].bet_change_amount"}}),e._v(" "),n("v-text-field",{attrs:{label:e.$t("Default bet amount"),rules:[function(t){return e.validationInteger(parseInt(t,10))},e.validationPositiveNumber],outlined:"",suffix:e.$t("credits")},model:{value:e.form.GAME_HORSE_RACING_VARIATIONS[a].default_bet_amount,callback:function(t){e.$set(e.form.GAME_HORSE_RACING_VARIATIONS[a],"default_bet_amount",e._n(t))},expression:"form.GAME_HORSE_RACING_VARIATIONS[variationIndex].default_bet_amount"}}),e._v(" "),n("v-text-field",{attrs:{label:e.$t("Default number of lines"),rules:[e.validationInteger,function(t){return e.validationMin(t,1)},function(t){return e.validationMax(t,20)}],outlined:""},model:{value:e.form.GAME_HORSE_RACING_VARIATIONS[a].default_lines,callback:function(t){e.$set(e.form.GAME_HORSE_RACING_VARIATIONS[a],"default_lines",e._n(t))},expression:"form.GAME_HORSE_RACING_VARIATIONS[variationIndex].default_lines"}})],1)],1),e._v(" "),n("v-expansion-panel",[n("v-expansion-panel-header",[e._v(e._s(e.$t("Symbols")))]),e._v(" "),n("v-expansion-panel-content",[e._l(t.symbols,(function(o,r){return[n("div",{key:r},[n("file-upload",{attrs:{label:e.$t("Image"),name:"symbol-"+r,folder:"games/raffle/"+a},model:{value:e.form.GAME_HORSE_RACING_VARIATIONS[a].symbols[r].image,callback:function(t){e.$set(e.form.GAME_HORSE_RACING_VARIATIONS[a].symbols[r],"image",t)},expression:"form.GAME_HORSE_RACING_VARIATIONS[variationIndex].symbols[symbolIndex].image"}}),e._v(" "),n("v-row",e._l([0,1,2,3,4],(function(t){return n("v-col",{key:t},[n("v-text-field",{staticClass:"text-center",attrs:{label:e.$t("Payout")+" x"+(t+1),rules:[function(t){return e.validationInteger(parseInt(t,10))}],"hide-details":!0,outlined:""},model:{value:e.form.GAME_HORSE_RACING_VARIATIONS[a].symbols[r].payouts[t],callback:function(n){e.$set(e.form.GAME_HORSE_RACING_VARIATIONS[a].symbols[r].payouts,t,e._n(n))},expression:"form.GAME_HORSE_RACING_VARIATIONS[variationIndex].symbols[symbolIndex].payouts[k]"}})],1)})),1),e._v(" "),n("v-row",[n("v-col",[n("v-switch",{attrs:{label:e.$t("Wild"),color:"primary","false-value":!1,"true-value":!0},on:{change:function(t){return e.disableActiveMagicSymbols("wild",a,r,t)}},model:{value:e.form.GAME_HORSE_RACING_VARIATIONS[a].symbols[r].wild,callback:function(t){e.$set(e.form.GAME_HORSE_RACING_VARIATIONS[a].symbols[r],"wild",t)},expression:"form.GAME_HORSE_RACING_VARIATIONS[variationIndex].symbols[symbolIndex].wild"}})],1)],1),e._v(" "),n("v-row",[n("v-col",[n("v-switch",{attrs:{label:e.$t("Scatter"),color:"primary","false-value":!1,"true-value":!0},on:{change:function(t){return e.disableActiveMagicSymbols("scatter",a,r,t)}},model:{value:e.form.GAME_HORSE_RACING_VARIATIONS[a].symbols[r].scatter,callback:function(t){e.$set(e.form.GAME_HORSE_RACING_VARIATIONS[a].symbols[r],"scatter",t)},expression:"form.GAME_HORSE_RACING_VARIATIONS[variationIndex].symbols[symbolIndex].scatter"}})],1)],1),e._v(" "),t.symbols.length>1?n("v-row",[n("v-col",[n("v-btn",{attrs:{color:"error"},on:{click:function(t){return e.removeSymbol(a,r)}}},[e._v("\n                          "+e._s(e.$t("Remove symbol"))+"\n                        ")])],1)],1):e._e(),e._v(" "),r<t.symbols.length-1?n("v-divider",{staticClass:"mt-5 mb-10"}):e._e()],1)]})),e._v(" "),n("v-row",[n("v-col",[n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.addSymbol(a)}}},[e._v("\n                      "+e._s(e.$t("Add symbol"))+"\n                    ")])],1)],1)],2)],1),e._v(" "),n("v-expansion-panel",[n("v-expansion-panel-header",[e._v(e._s(e.$t("Reels")))]),e._v(" "),n("v-expansion-panel-content",[n("v-row",e._l([0,1,2,3,4],(function(o){return n("v-col",{key:o},[n("draggable",{attrs:{list:e.form.GAME_HORSE_RACING_VARIATIONS[a].reels[o]}},e._l(e.form.GAME_HORSE_RACING_VARIATIONS[a].reels[o],(function(t,r){return n("div",{key:r,staticClass:"text-center mb-3"},[n("v-badge",{attrs:{color:"rgba(255,255,255,0)"}},[n("v-btn",{attrs:{slot:"badge",color:"error",icon:"","x-small":""},on:{click:function(t){return e.removeSymbolFromReel(a,o,r)}},slot:"badge"},[n("v-icon",[e._v("mdi-close")])],1),e._v(" "),n("v-avatar",{attrs:{size:"64",tile:""}},[n("img",{attrs:{src:e.symbolImagePath(a,t),alt:e.symbolImagePath(a,t)}})])],1)],1)})),0),e._v(" "),n("div",{staticClass:"text-center mt-5"},[n("v-menu",{attrs:{"offset-y":"",top:"",right:"","max-height":"300"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{color:"primary",small:""}},a),[n("v-icon",[e._v("mdi-plus")]),e._v("\n                            "+e._s(e.$t("Add"))+"\n                          ")],1)]}}],null,!0)},[e._v(" "),n("v-list",e._l(t.symbols,(function(t,r){return n("v-list-item",{key:r,on:{click:function(t){return e.addSymbolToReel(a,o,r)}}},[n("v-list-item-icon",{staticClass:"mr-0"},[n("v-avatar",{attrs:{size:"64",tile:""}},[n("img",{attrs:{src:e.symbolImagePath(a,r),alt:e.symbolImagePath(a,r)}})])],1)],1)})),1)],1)],1)],1)})),1)],1)],1)],1),e._v(" "),n("v-row",[n("v-col",[n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.cloneVariation(a)}}},[e._v("\n                "+e._s(e.$t("Clone"))+"\n              ")]),e._v(" "),e.variations.length>1?n("v-btn",{staticClass:"ml-3",attrs:{color:"error"},on:{click:function(t){return e.removeVariation(a)}}},[e._v("\n                "+e._s(e.$t("Remove"))+"\n              ")]):e._e()],1)],1)],1)],1)})),1)],1)],1)}),[],!1,null,"1cef53b6",null);t.default=w.exports;f()(w,{VAvatar:R.a,VBadge:d.a,VBtn:b.a,VCard:S.a,VCardText:E.c,VCol:N.a,VCombobox:O.a,VDivider:G.a,VExpansionPanel:p.a,VExpansionPanelContent:x.a,VExpansionPanelHeader:V.a,VExpansionPanels:g.a,VIcon:y.a,VList:C.a,VListItem:M.a,VListItemIcon:T.a,VMenu:h.a,VRow:H.a,VSwitch:$.a,VTextField:k.a})},nHV2:function(e,t,n){"use strict";var a=n("35aS");n.n(a).a}}]);
//# sourceMappingURL=raffle-resources-js-pages-admin-settings.js.map