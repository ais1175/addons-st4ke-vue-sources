(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{"0dFL":function(t,e,n){t.exports=n.p+"audio/video-poker/click.wav"},Cgr0:function(t,e,n){t.exports=n.p+"audio/video-poker/deal.wav"},GKIC:function(t,e,n){t.exports=n.p+"audio/video-poker/flip.wav"},ISQZ:function(t,e,n){t.exports=n.p+"audio/video-poker/swoosh.wav"},JkyR:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".hold[data-v-842fc3fa] {\n  position: absolute;\n  width: 100%;\n  text-align: center;\n  top: -1.6em;\n  font-size: 0.9em;\n  font-weight: 300;\n}",""])},OY7U:function(t,e,n){"use strict";var a=n("fpkf"),i=n("g6NE");var r={computed:{gamePackageId:function(){return this.$route.params.game},provablyFairGame:function(){return this.$store.getters["provably-fair/get"](this.gamePackageId)||{}},minBet:function(){return parseInt(Object(a.a)("".concat(this.gamePackageId,".min_bet")),10)},maxBet:function(){return parseInt(Object(a.a)("".concat(this.gamePackageId,".max_bet")),10)},betStep:function(){return parseInt(Object(a.a)("".concat(this.gamePackageId,".bet_change_amount")),10)}},methods:{getRoute:function(t){return e="games.".concat(this.gamePackageId,".").concat(t),i.a.getters["route/get"](e);var e}}},s=n("KHd+"),o=Object(s.a)(r,void 0,void 0,!1,null,null,null);e.a=o.exports},RQHW:function(t,e,n){"use strict";var a=n("qp79");n.n(a).a},dqsV:function(t,e,n){t.exports=n.p+"audio/video-poker/lose.wav"},ncqM:function(t,e,n){"use strict";n.r(e);var a=n("o0o1"),i=n.n(a),r=n("vDqi"),s=n.n(r),o=n("L2JU"),c=n("fpkf"),l=n("C3Ci"),u=n("OY7U"),d=n("fYW3"),h=n("hNdr"),p=n("ZXch"),f=n("0dFL"),m=n.n(f),b=n("Cgr0"),v=n.n(b),g=n("ISQZ"),y=n.n(g),w=n("GKIC"),x=n.n(w),k=n("s+mP"),O=n.n(k),P=n("dqsV"),j=n.n(P);function I(t,e,n,a,i,r,s){try{var o=t[r](s),c=o.value}catch(t){return void n(t)}o.done?e(c):Promise.resolve(c).then(a,i)}function _(t){return function(){var e=this,n=arguments;return new Promise((function(a,i){var r=t.apply(e,n);function s(t){I(r,a,i,s,o,"next",t)}function o(t){I(r,a,i,s,o,"throw",t)}s(void 0)}))}}function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){B(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function B(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var S,T,U,V={name:"VideoPoker",components:{Hand:h.a},mixins:[l.a,u.a,d.a],data:function(){return{loading:!1,playing:!1,isDrawDisabled:!0,bet:parseInt(Object(c.a)("video-poker.default_bet_amount"),10),playerBet:0,playerWin:0,hand:["H8","S9","DT","CJ","HQ"],hold:[],result:this.$t("Straight flush")}},computed:D({},Object(o.d)("auth",["account"]),{isPlayDisabled:function(){return!this.provablyFairGame.hash||this.playing||this.bet>this.account.balance},resultClass:function(){return this.playing?"":this.playerWin>0?"primary text--primary":"error"}}),methods:D({},Object(o.b)({updateUserAccountBalance:"auth/updateUserAccountBalance",setProvablyFairGame:"provably-fair/set"}),{play:(U=_(i.a.mark((function t(){var e=this;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.sound(m.a),this.loading=!0,this.playing=!0,this.updateUserAccountBalance(this.account.balance-this.bet),this.hand=[],this.hold=[],this.sound(y.a),this.playerBet=0,this.playerWin=0,this.result="",t.next=12,Object(p.h)(500);case 12:this.action("play",{bet:this.bet}).then((function(){e.loading=!1}));case 13:case"end":return t.stop()}}),t,this)}))),function(){return U.apply(this,arguments)}),holdUnholdCard:function(t){if(!this.isDrawDisabled){this.sound(m.a);var e=this.hold.indexOf(t.index);e>-1?this.hold.splice(e,1):this.hold.push(t.index)}},draw:(T=_(i.a.mark((function t(){var e=this;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.sound(m.a),this.loading=!0,this.isDrawDisabled=!0,this.hand.forEach((function(t,n){-1===e.hold.indexOf(n)&&e.hand.splice(n,1,null)})),t.next=6,Object(p.h)(500);case 6:this.action("draw",{hold:this.hold}).then((function(){e.loading=!1}));case 7:case"end":return t.stop()}}),t,this)}))),function(){return T.apply(this,arguments)}),action:(S=_(i.a.mark((function t(e){var n,a,r,o,c,l,u=this,d=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=d.length>1&&void 0!==d[1]?d[1]:{},a=this.getRoute(e),r=D({hash:this.provablyFairGame.hash},n),t.next=5,s.a.post(a,r);case 5:o=t.sent,c=o.data,l=0,"play"===e&&(setTimeout((function(){u.playerBet=c.bet}),500),c.gameable.hand.forEach((function(t){setTimeout((function(){u.hand.push(t),u.sound(v.a)}),l+=500)})),setTimeout((function(){u.isDrawDisabled=!1}),l+=500)),c.is_completed&&(this.setProvablyFairGame({key:this.gamePackageId,game:c.pf_game}),l+=250,setTimeout((function(){u.hand.forEach((function(t,e){null===t&&u.hand.splice(e,1,c.gameable.hand[e])})),u.sound(x.a)}),l),setTimeout((function(){u.playerWin=c.win,u.result=c.gameable.result,u.playing=!1,u.updateUserAccountBalance(c.account.balance),u.playerWin>0?u.sound(O.a):u.sound(j.a)}),l+500));case 10:case"end":return t.stop()}}),t,this)}))),function(t){return S.apply(this,arguments)}),decrease:function(){this.sound(m.a);var t=this.bet-this.betStep;this.bet=Math.max(this.minBet,t)},increase:function(){this.sound(m.a);var t=this.bet+this.betStep;this.bet=Math.min(this.maxBet,t)}})},E=(n("RQHW"),n("KHd+")),F=n("ZUTo"),W=n.n(F),H=n("gzZi"),$=n("S9TP"),G=n("hlRy"),R=Object(E.a)(V,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex flex-column fill-height py-3"},[n("div",{staticClass:"d-flex justify-center fill-height align-center"},[n("hand",{attrs:{cards:t.hand,result:t.result,"result-class":t.resultClass,bet:t.playerBet,win:t.playerWin,clickable:!0},on:{"playing-card-click":t.holdUnholdCard},scopedSlots:t._u([t._l([0,1,2,3,4],(function(e){return{key:"top."+e,fn:function(){return[n("div",{directives:[{name:"show",rawName:"v-show",value:t.hold.indexOf(e)>-1,expression:"hold.indexOf(i)>-1"}],key:e,staticClass:"hold"},[t._v("\n          "+t._s(t.$t("hold"))+"\n        ")])]},proxy:!0}}))],null,!0)})],1),t._v(" "),n("div",{staticClass:"d-flex justify-center flex-wrap"},[n("v-btn",{staticClass:"mx-1 my-2 my-lg-0",attrs:{disabled:t.isDrawDisabled,loading:t.loading,small:""},on:{click:t.draw}},[t._v("\n      "+t._s(t.$t("Hold & draw"))+"\n    ")])],1),t._v(" "),n("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.play(e)}},model:{value:t.formIsValid,callback:function(e){t.formIsValid=e},expression:"formIsValid"}},[n("div",{staticClass:"d-flex justify-center flex-wrap mt-3"},[n("v-text-field",{staticClass:"text-center my-2 my-lg-0 flex-grow-0",attrs:{dense:"",flat:"","full-width":!1,"hide-details":!0,prefix:t.$t("Bet"),disabled:t.playing,rules:[t.validationInteger,function(e){return t.validationMin(e,t.minBet)},function(e){return t.validationMax(e,Math.min(t.account.balance,t.maxBet))}],"prepend-inner-icon":"mdi-minus","append-icon":"mdi-plus"},on:{"click:prepend-inner":t.decrease,"click:append":t.increase},model:{value:t.bet,callback:function(e){t.bet=t._n(e)},expression:"bet"}}),t._v(" "),n("v-btn",{staticClass:"ml-2",attrs:{type:"submit",color:"primary",loading:t.loading,disabled:!t.formIsValid||t.isPlayDisabled}},[t._v("\n        "+t._s(t.$t("Play"))+"\n      ")])],1)])],1)}),[],!1,null,"842fc3fa",null);e.default=R.exports;W()(R,{VBtn:H.a,VForm:$.a,VTextField:G.a})},qp79:function(t,e,n){var a=n("JkyR");"string"==typeof a&&(a=[[t.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,i);a.locals&&(t.exports=a.locals)},"s+mP":function(t,e,n){t.exports=n.p+"audio/video-poker/win.wav"}}]);
//# sourceMappingURL=video-poker-resources-js-game.js.map